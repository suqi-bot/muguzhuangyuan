import{d as E,u as G,Q as L,a as S,b,c as T,o as q,e as z,f as o,g as l,i as e,h as c,x as v,s as u,t as i,L as N,l as j,F as h,k,p,_ as Q}from"./index-vYzfv9NW.js";import{r as w}from"./request-DzKJqaQU.js";const U={class:"room-detail-page"},H={class:"navbar"},J={class:"nav-container"},K={class:"nav-menu"},O={class:"nav-buttons"},P={class:"user-welcome"},X={class:"main-content"},Y={key:0,class:"loading-container"},Z={key:1,class:"room-detail-container"},ss={class:"room-gallery"},es={class:"main-image"},as=["src","alt"],ts={class:"image-nav"},is=["disabled"],os=["disabled"],ls={key:0,class:"thumbnail-list"},ns=["src","alt","onClick"],rs={class:"room-info-section"},ds={class:"room-header"},us={class:"room-title"},cs={key:0,class:"room-rating"},vs={class:"stars"},ms={class:"rating-text"},gs={class:"room-price"},ps={class:"price"},_s={class:"room-description"},fs={class:"room-amenities"},bs={class:"amenities-grid"},hs={class:"room-details"},ks={class:"details-grid"},ys={class:"detail-item"},Cs={class:"value"},xs={class:"detail-item"},Is={class:"value"},js={class:"detail-item"},ws={class:"value"},Fs={class:"detail-item"},Rs={class:"value"},Ws={class:"booking-section"},Ds=["disabled"],$s={key:2,class:"error-container"},Ms=E({__name:"RoomDetailView",setup(Vs){const _=G(),y=L(),C=S(),f=b(!0),a=b(null),n=b(0),F=T(()=>!a.value?.images||a.value.images.length===0?"/src/assets/images/card/card01.jpg":a.value.images[n.value]),R=async()=>{f.value=!0;try{const t=y.params.id;let s;try{s=await w.get(`/h/room/detail?id=${t}`)}catch{s=await w.get(`/h/room/${t}`)}if(s.code===200||s.code==="200")s.data.room?a.value={...s.data.room,status:s.data.room.status===0?"available":"booked",images:s.data.img?.map(r=>W(r.url))||m(t),amenities:s.data.room.device?.split(",")||x()}:a.value={...s.data,status:s.data.status===0?"available":"booked",images:m(t),amenities:s.data.device?.split(",")||x()};else throw new Error("è·å–æˆ¿é—´è¯¦æƒ…å¤±è´¥")}catch(t){console.error("è·å–æˆ¿é—´è¯¦æƒ…å¤±è´¥:",t),a.value=$(y.params.id)}finally{f.value=!1}},W=t=>t?t.startsWith("http")?t:`http://localhost:8091/files/${t}`:D(),m=t=>({1:["@/assets/images/field-research/room-visits/room-visit1.jpg","@/assets/images/field-research/indoor-research/indoor1.jpg"],2:["@/assets/images/field-research/room-visits/room-visit2.jpg","@/assets/images/field-research/indoor-research/indoor2.jpg"],3:["@/assets/images/field-research/indoor-research/indoor3.jpg","@/assets/images/field-research/indoor-research/indoor4.jpg"]})[t]||["@/assets/images/field-research/room-visits/room-visit1.jpg","@/assets/images/field-research/indoor-research/indoor1.jpg"],x=()=>["å…è´¹WiFi","ç©ºè°ƒ","24å°æ—¶çƒ­æ°´","ç‹¬ç«‹å«æµ´","ç”µè§†","å†°ç®±"],D=()=>"@/assets/images/field-research/room-visits/room-visit1.jpg",$=t=>{const s={1:{id:1,name:"è˜‘è‡æ£®æ—å°å±‹",code:"MG-001",category:"è±ªåé—´",price:388,state:"ç©ºé—²",status:"available",describe:"éšè—åœ¨è˜‘è‡æ£®æ—æ·±å¤„çš„æ¸©é¦¨å°å±‹ï¼Œå››å‘¨ç¯ç»•ç€å„ç§çç¨€è˜‘è‡ã€‚æˆ¿é—´é‡‡ç”¨å¤©ç„¶æœ¨æè£…ä¿®ï¼Œé…å¤‡ç°ä»£åŒ–è®¾æ–½ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,è¿·ä½ å§,é˜³å°",address:"æ™®æ´±è˜‘è‡åº„å›­æ£®æ—åŒºAæ ‹",city:"æ™®æ´±å¸‚",seat:2,images:m("1"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","è¿·ä½ å§","é˜³å°"]},2:{id:2,name:"æ™®æ´±èŒ¶é¦™æœ¨å±‹",code:"MG-002",category:"æ ‡å‡†é—´",price:288,state:"ç©ºé—²",status:"available",describe:"å……æ»¡èŒ¶é¦™çš„ç²¾è‡´æœ¨å±‹ï¼Œæˆ¿é—´å†…é™ˆè®¾ç€å„ç§æ™®æ´±èŒ¶å…·å’ŒèŒ¶å¶ã€‚æ‚¨å¯ä»¥åœ¨æˆ¿é—´å†…å“èŒ¶èµæ™¯ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,èŒ¶å…·å¥—è£…,è§‚æ™¯çª—",address:"æ™®æ´±è˜‘è‡åº„å›­èŒ¶å›­åŒºBæ ‹",city:"æ™®æ´±å¸‚",seat:2,images:m("2"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","èŒ¶å…·å¥—è£…","è§‚æ™¯çª—"]},3:{id:3,name:"åº„å›­è±ªåå¥—æˆ¿",code:"MG-003",category:"å¥—æˆ¿",price:588,state:"ç©ºé—²",status:"available",describe:"åº„å›­å†…æœ€è±ªåçš„å¥—æˆ¿ï¼Œæ‹¥æœ‰ç‹¬ç«‹å®¢å…ã€å§å®¤å’Œè§‚æ™¯é˜³å°ã€‚æˆ¿é—´è£…ä¿®å…¸é›…ï¼Œè®¾æ–½é½å…¨ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,å®¢å…,é˜³å°,è¿·ä½ å§,ä¿é™©ç®±",address:"æ™®æ´±è˜‘è‡åº„å›­ä¸»æ¥¼Cæ ‹",city:"æ™®æ´±å¸‚",seat:4,images:m("3"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","å®¢å…","é˜³å°","è¿·ä½ å§","ä¿é™©ç®±"]}};return s[t]||s[1]},M=()=>{a.value?.images&&a.value.images.length>1&&(n.value=n.value===0?a.value.images.length-1:n.value-1)},V=()=>{a.value?.images&&a.value.images.length>1&&(n.value=n.value===a.value.images.length-1?0:n.value+1)},I=()=>{_.push("/ai-rooms")},B=()=>{a.value&&a.value.status==="available"&&_.push(`/book/${a.value.id}`)},A=()=>{C.logout(),_.push("/login")};return q(()=>{R()}),(t,s)=>{const r=z("router-link");return l(),o("div",U,[e("nav",H,[e("div",J,[s[6]||(s[6]=e("div",{class:"logo"},"ğŸ„ æ™®æ´±è˜‘è‡åº„å›­",-1)),e("div",K,[c(r,{to:"/",class:"nav-link"},{default:v(()=>s[0]||(s[0]=[u("é¦–é¡µ")])),_:1,__:[0]}),c(r,{to:"/tea-culture",class:"nav-link"},{default:v(()=>s[1]||(s[1]=[u("èŒ¶æ–‡åŒ–")])),_:1,__:[1]}),c(r,{to:"/products",class:"nav-link"},{default:v(()=>s[2]||(s[2]=[u("æ°‘å®¿äº§å“")])),_:1,__:[2]}),c(r,{to:"/ai-rooms",class:"nav-link"},{default:v(()=>s[3]||(s[3]=[u("AIé€‰æˆ¿")])),_:1,__:[3]}),c(r,{to:"/orders",class:"nav-link"},{default:v(()=>s[4]||(s[4]=[u("è®¢å•")])),_:1,__:[4]}),c(r,{to:"/profile",class:"nav-link"},{default:v(()=>s[5]||(s[5]=[u("ä¸ªäººä¿¡æ¯")])),_:1,__:[5]})]),e("div",O,[e("span",P,"æ¬¢è¿ï¼Œ"+i(N(C).user?.username),1),e("button",{onClick:A,class:"btn btn-outline"},"é€€å‡º")])])]),e("main",X,[f.value?(l(),o("div",Y,s[7]||(s[7]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"åŠ è½½ä¸­...",-1)]))):a.value?(l(),o("div",Z,[e("div",{class:"back-section"},[e("button",{onClick:I,class:"back-btn"},s[8]||(s[8]=[e("i",{class:"fas fa-arrow-left"},null,-1),u(" è¿”å›æˆ¿é—´åˆ—è¡¨ ")]))]),e("div",ss,[e("div",es,[e("img",{src:F.value,alt:a.value.name},null,8,as),e("div",ts,[e("button",{onClick:M,class:"nav-btn prev-btn",disabled:a.value.images.length<=1},s[9]||(s[9]=[e("i",{class:"fas fa-chevron-left"},null,-1)]),8,is),e("button",{onClick:V,class:"nav-btn next-btn",disabled:a.value.images.length<=1},s[10]||(s[10]=[e("i",{class:"fas fa-chevron-right"},null,-1)]),8,os)])]),a.value.images.length>1?(l(),o("div",ls,[(l(!0),o(h,null,k(a.value.images,(d,g)=>(l(),o("img",{key:g,src:d,alt:`${a.value.name} ${g+1}`,class:p({active:n.value===g}),onClick:Bs=>n.value=g},null,10,ns))),128))])):j("",!0)]),e("div",rs,[e("div",ds,[e("h1",us,i(a.value.name),1),a.value.rating?(l(),o("div",cs,[e("div",vs,[(l(),o(h,null,k(5,d=>e("i",{key:d,class:p(d<=a.value.rating?"fas fa-star":"fa-regular fa-star")},null,2)),64))]),e("span",ms,i(a.value.rating)+" åˆ†",1)])):j("",!0)]),e("div",gs,[e("span",ps,"Â¥"+i(a.value.price),1),s[11]||(s[11]=e("span",{class:"unit"},"/æ™š",-1))]),e("div",_s,[s[12]||(s[12]=e("h3",null,"æˆ¿é—´ä»‹ç»",-1)),e("p",null,i(a.value.description),1)]),e("div",fs,[s[14]||(s[14]=e("h3",null,"æˆ¿é—´è®¾æ–½",-1)),e("div",bs,[(l(!0),o(h,null,k(a.value.amenities,d=>(l(),o("div",{key:d,class:"amenity-item"},[s[13]||(s[13]=e("i",{class:"fas fa-check"},null,-1)),e("span",null,i(d),1)]))),128))])]),e("div",hs,[s[19]||(s[19]=e("h3",null,"è¯¦ç»†ä¿¡æ¯",-1)),e("div",ks,[e("div",ys,[s[15]||(s[15]=e("span",{class:"label"},"æˆ¿é—´ç±»å‹ï¼š",-1)),e("span",Cs,i(a.value.type),1)]),e("div",xs,[s[16]||(s[16]=e("span",{class:"label"},"æˆ¿é—´é¢ç§¯ï¼š",-1)),e("span",Is,i(a.value.area||"25")+"ã¡",1)]),e("div",js,[s[17]||(s[17]=e("span",{class:"label"},"æœ€å¤§å…¥ä½ï¼š",-1)),e("span",ws,i(a.value.maxGuests||"2")+"äºº",1)]),e("div",Fs,[s[18]||(s[18]=e("span",{class:"label"},"åºŠå‹ï¼š",-1)),e("span",Rs,i(a.value.bedType||"å¤§åºŠ"),1)])])]),e("div",Ws,[e("div",{class:p(["availability-status",a.value.status])},[e("i",{class:p(a.value.status==="available"?"fas fa-check-circle":"fas fa-times-circle")},null,2),e("span",null,i(a.value.status==="available"?"å¯é¢„è®¢":"å·²è¢«é¢„è®¢"),1)],2),e("button",{class:"book-btn",disabled:a.value.status!=="available",onClick:B},i(a.value.status==="available"?"ç«‹å³é¢„è®¢":"æš‚ä¸å¯é¢„è®¢"),9,Ds)])])])):(l(),o("div",$s,[s[20]||(s[20]=e("i",{class:"fas fa-exclamation-triangle"},null,-1)),s[21]||(s[21]=e("h3",null,"æˆ¿é—´ä¸å­˜åœ¨",-1)),s[22]||(s[22]=e("p",null,"æŠ±æ­‰ï¼Œæ‚¨æŸ¥çœ‹çš„æˆ¿é—´ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤",-1)),e("button",{onClick:I,class:"btn btn-primary"},"è¿”å›æˆ¿é—´åˆ—è¡¨")]))])])}}}),Gs=Q(Ms,[["__scopeId","data-v-d7d9fd40"]]);export{Gs as default};
