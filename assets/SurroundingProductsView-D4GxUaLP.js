import{d as H,a as Y,u as z,b as m,o as J,_ as K,f as n,g as l,i as s,l as u,t as c,p as f,F as p,k as v,w as y,m as I,v as T,s as j,c as V,I as ds,h as Q,A as us,j as M,K as gs,J as ps}from"./index-BfWrQTtX.js";import{useCartStore as R}from"./cart-BeB6EjK2.js";const vs=H({name:"ShoppingCart",setup(){const o=R(),e=Y(),C=z(),_=m(!1),h=m(!1),k=m(!1),a=m({shippingAddress:"",contactPhone:"",remarks:""}),b=()=>{if(!e.isAuthenticated){C.push("/login");return}_.value=!_.value},P=(g,A)=>{o.updateQuantity(g,A)},w=g=>{o.removeFromCart(g)},S=()=>{confirm("确定要清空购物车吗？")&&o.clearCart()},$=async()=>{if(!a.value.shippingAddress.trim()){alert("请填写收货地址");return}if(!a.value.contactPhone.trim()){alert("请填写联系电话");return}k.value=!0;try{const g=await o.createOrder({shippingAddress:a.value.shippingAddress,contactPhone:a.value.contactPhone,remarks:a.value.remarks});alert(`订单提交成功！
订单号：${g.id}`),a.value={shippingAddress:"",contactPhone:"",remarks:""},h.value=!1,_.value=!1,C.push("/orders")}catch(g){alert("订单提交失败："+g.message)}finally{k.value=!1}};return J(()=>{e.isAuthenticated&&o.initializeUserData()}),{cartStore:o,authStore:e,showCart:_,showCheckout:h,isSubmitting:k,orderForm:a,toggleCart:b,updateQuantity:P,removeItem:w,clearCart:S,submitOrder:$}}}),ms={class:"shopping-cart"},hs={key:0,class:"cart-badge"},fs={class:"cart-header"},bs={class:"cart-content"},ys={key:0,class:"empty-cart"},_s={key:1,class:"cart-items"},ks={class:"item-image"},Cs=["src","alt"],Ps={class:"item-info"},ws={class:"item-desc"},$s={class:"item-price"},Is={class:"current-price"},Ss={key:0,class:"original-price"},js={class:"quantity-controls"},As=["onClick"],qs={class:"quantity"},Ds=["onClick"],Ls={class:"item-actions"},Fs=["onClick"],Es={key:0,class:"cart-footer"},Ts={class:"cart-summary"},Vs={class:"summary-row"},Ms={key:0,class:"summary-row discount"},Ns={class:"summary-row total"},Us={class:"cart-actions"},Bs={class:"checkout-header"},Os={class:"checkout-body"},Qs={class:"order-items"},Xs=["src","alt"],Hs={class:"item-details"},Ys={class:"item-details-row"},zs={class:"item-name"},Js={class:"item-price"},Ks={class:"item-details-row"},Rs={class:"item-quantity"},Ws={class:"item-unit-price"},Gs={class:"shipping-info"},Zs={class:"form-group"},xs={class:"form-group"},st={class:"form-group"},tt={class:"order-summary"},et={class:"summary-row"},at={key:0,class:"summary-row discount"},it={class:"summary-row total"},ot={class:"checkout-footer"},nt=["disabled"],lt={key:0,class:"fas fa-spinner fa-spin"};function rt(o,e,C,_,h,k){return l(),n("div",ms,[s("button",{onClick:e[0]||(e[0]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:f(["cart-button",{active:o.showCart}])},[e[15]||(e[15]=s("i",{class:"fas fa-shopping-cart"},null,-1)),o.cartStore.totalItems>0?(l(),n("span",hs,c(o.cartStore.totalItems),1)):u("",!0)],2),o.showCart?(l(),n("div",{key:0,class:"cart-overlay",onClick:e[6]||(e[6]=(...a)=>o.toggleCart&&o.toggleCart(...a))},[s("div",{class:"cart-sidebar",onClick:e[5]||(e[5]=y(()=>{},["stop"]))},[s("div",fs,[e[17]||(e[17]=s("h3",null,"购物车",-1)),s("button",{onClick:e[1]||(e[1]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:"close-btn"},e[16]||(e[16]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",bs,[o.cartStore.items.length===0?(l(),n("div",ys,[e[18]||(e[18]=s("i",{class:"fas fa-shopping-cart"},null,-1)),e[19]||(e[19]=s("p",null,"购物车是空的",-1)),s("button",{onClick:e[2]||(e[2]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:"btn-primary"},"继续购物")])):(l(),n("div",_s,[(l(!0),n(p,null,v(o.cartStore.items,a=>(l(),n("div",{key:a.id,class:"cart-item"},[s("div",ks,[s("img",{src:a.image,alt:a.name},null,8,Cs)]),s("div",Ps,[s("h4",null,c(a.name),1),s("p",ws,c(a.description),1),s("div",$s,[s("span",Is,"¥"+c(a.price),1),a.originalPrice?(l(),n("span",Ss,"¥"+c(a.originalPrice),1)):u("",!0)]),s("div",js,[s("button",{onClick:b=>o.updateQuantity(a.id,a.quantity-1),class:"qty-btn"},e[20]||(e[20]=[s("i",{class:"fas fa-minus"},null,-1)]),8,As),s("span",qs,c(a.quantity),1),s("button",{onClick:b=>o.updateQuantity(a.id,a.quantity+1),class:"qty-btn"},e[21]||(e[21]=[s("i",{class:"fas fa-plus"},null,-1)]),8,Ds)])]),s("div",Ls,[s("button",{onClick:b=>o.removeItem(a.id),class:"remove-btn"},e[22]||(e[22]=[s("i",{class:"fas fa-trash"},null,-1)]),8,Fs)])]))),128))]))]),o.cartStore.items.length>0?(l(),n("div",Es,[s("div",Ts,[s("div",Vs,[e[23]||(e[23]=s("span",null,"商品总数：",-1)),s("span",null,c(o.cartStore.totalItems)+"件",1)]),o.cartStore.savedAmount>0?(l(),n("div",Ms,[e[24]||(e[24]=s("span",null,"优惠金额：",-1)),s("span",null,"-¥"+c(o.cartStore.savedAmount.toFixed(2)),1)])):u("",!0),s("div",Ns,[e[25]||(e[25]=s("span",null,"总计：",-1)),s("span",null,"¥"+c(o.cartStore.totalAmount.toFixed(2)),1)])]),s("div",Us,[s("button",{onClick:e[3]||(e[3]=(...a)=>o.clearCart&&o.clearCart(...a)),class:"btn-secondary"},"清空购物车"),s("button",{onClick:e[4]||(e[4]=a=>o.showCheckout=!0),class:"btn-primary"},"去结算")])])):u("",!0)])])):u("",!0),o.showCheckout?(l(),n("div",{key:1,class:"checkout-modal",onClick:e[14]||(e[14]=a=>o.showCheckout=!1)},[s("div",{class:"checkout-content",onClick:e[13]||(e[13]=y(()=>{},["stop"]))},[s("div",Bs,[e[27]||(e[27]=s("h3",null,"确认订单",-1)),s("button",{onClick:e[7]||(e[7]=a=>o.showCheckout=!1),class:"close-btn"},e[26]||(e[26]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",Os,[s("div",Qs,[e[28]||(e[28]=s("h4",null,"商品清单",-1)),(l(!0),n(p,null,v(o.cartStore.items,a=>(l(),n("div",{key:a.id,class:"order-item"},[s("img",{src:a.image,alt:a.name},null,8,Xs),s("div",Hs,[s("div",Ys,[s("span",zs,c(a.name),1),s("span",Js,"¥"+c((a.price*a.quantity).toFixed(2)),1)]),s("div",Ks,[s("span",Rs,"数量: "+c(a.quantity),1),s("span",Ws,"单价: ¥"+c(a.price),1)])])]))),128))]),s("div",Gs,[e[32]||(e[32]=s("h4",null,"配送信息",-1)),s("div",Zs,[e[29]||(e[29]=s("label",null,"收货地址：",-1)),I(s("textarea",{"onUpdate:modelValue":e[8]||(e[8]=a=>o.orderForm.shippingAddress=a),placeholder:"请输入详细的收货地址",required:""},null,512),[[T,o.orderForm.shippingAddress]])]),s("div",xs,[e[30]||(e[30]=s("label",null,"联系电话：",-1)),I(s("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>o.orderForm.contactPhone=a),type:"tel",placeholder:"请输入联系电话",required:""},null,512),[[T,o.orderForm.contactPhone]])]),s("div",st,[e[31]||(e[31]=s("label",null,"备注信息：",-1)),I(s("textarea",{"onUpdate:modelValue":e[10]||(e[10]=a=>o.orderForm.remarks=a),placeholder:"如有特殊要求请在此说明（选填）"},null,512),[[T,o.orderForm.remarks]])])]),s("div",tt,[s("div",et,[e[33]||(e[33]=s("span",null,"商品总数：",-1)),s("span",null,c(o.cartStore.totalItems)+"件",1)]),o.cartStore.savedAmount>0?(l(),n("div",at,[e[34]||(e[34]=s("span",null,"优惠金额：",-1)),s("span",null,"-¥"+c(o.cartStore.savedAmount.toFixed(2)),1)])):u("",!0),e[36]||(e[36]=s("div",{class:"summary-row"},[s("span",null,"配送费："),s("span",null,"免费")],-1)),s("div",it,[e[35]||(e[35]=s("span",null,"应付总额：",-1)),s("span",null,"¥"+c(o.cartStore.totalAmount.toFixed(2)),1)])])]),s("div",ot,[s("button",{onClick:e[11]||(e[11]=a=>o.showCheckout=!1),class:"btn-secondary"},"返回购物车"),s("button",{onClick:e[12]||(e[12]=(...a)=>o.submitOrder&&o.submitOrder(...a)),class:"btn-primary",disabled:o.isSubmitting},[o.isSubmitting?(l(),n("i",lt)):u("",!0),j(" "+c(o.isSubmitting?"提交中...":"确认下单"),1)],8,nt)])])])):u("",!0)])}const ct=K(vs,[["render",rt],["__scopeId","data-v-d72ba0b4"]]),dt={class:"page-container fade-in"},ut={class:"main-content"},gt={class:"category-section"},pt={class:"container"},vt={class:"category-grid"},mt=["onClick"],ht={class:"category-icon"},ft={class:"category-content"},bt={class:"category-name"},yt={class:"category-desc"},_t={class:"category-count"},kt={class:"featured-section"},Ct={class:"container"},Pt={class:"featured-showcase"},wt=["onClick"],$t={class:"product-image-container"},It={class:"product-image"},St=["src","alt"],jt={class:"product-rating"},At={class:"stars"},qt={class:"rating-text"},Dt={class:"product-content"},Lt={class:"product-category"},Ft={class:"product-title"},Et={class:"product-desc"},Tt={key:0,class:"product-specs"},Vt={class:"product-footer"},Mt={class:"product-price"},Nt={class:"current-price"},Ut={key:0,class:"original-price"},Bt={key:1,class:"discount"},Ot={class:"product-actions"},Qt=["onClick"],Xt=["onClick"],Ht={class:"products-section"},Yt={class:"container"},zt={class:"section-header"},Jt={class:"products-filter"},Kt={class:"filter-tabs"},Rt=["onClick"],Wt={class:"count"},Gt={class:"filter-sort"},Zt={class:"products-grid"},xt=["onClick"],se={class:"product-image-wrapper"},te={class:"product-image"},ee=["src","alt"],ae={class:"image-overlay"},ie={class:"overlay-actions"},oe=["onClick"],ne=["onClick"],le=["onClick"],re={key:0,class:"product-badges"},ce={key:0,class:"badge badge-new"},de={key:1,class:"badge badge-hot"},ue={class:"product-rating-overlay"},ge={class:"stars"},pe={class:"rating-score"},ve={class:"product-content"},me={class:"product-category"},he={class:"product-name"},fe={class:"product-description"},be={key:0,class:"product-tags"},ye={class:"product-footer"},_e={class:"price-section"},ke={class:"price-main"},Ce={class:"current-price"},Pe={key:0,class:"original-price"},we={key:0,class:"discount-info"},$e={class:"discount-percent"},Ie={class:"product-actions"},Se=["onClick"],je={key:0,class:"load-more-section"},Ae=["disabled"],qe={key:0},De={key:1,class:"loading-content"},Le={class:"modal-header"},Fe={class:"modal-body"},Ee={class:"detail-image"},Te={key:0,class:"image-gallery"},Ve=["src","alt"],Me=["src","alt"],Ne={class:"detail-info"},Ue={class:"detail-desc"},Be={key:0,class:"detail-specs"},Oe={class:"detail-rating"},Qe={class:"stars"},Xe={class:"rating-text"},He={class:"detail-price"},Ye={class:"current-price"},ze={key:0,class:"original-price"},Je={class:"detail-actions"},X=12,Ke=H({__name:"SurroundingProductsView",setup(o){const e=z(),C=Y(),_=R(),h=m("all"),k=m(!1),a=m(null),b=m("default"),P=m(!1),w=m(1),S=m(!1),$=m([{id:"all",name:"全部产品",icon:"fas fa-th-large",description:"浏览所有庄园产品",count:15},{id:"tea",name:"茶叶产品",icon:"fas fa-leaf",description:"精选普洱茶系列",count:4},{id:"ip",name:"IP衍生品",icon:"fas fa-star",description:"普普主题周边",count:6},{id:"souvenir",name:"纪念品",icon:"fas fa-gift",description:"庄园专属纪念",count:3},{id:"craft",name:"手工艺品",icon:"fas fa-palette",description:"传统手工制作",count:2}]),g=m([{id:1,name:"精品普洱茶饼",description:"选用优质大叶种茶叶，传统工艺制作",fullDescription:"这款精品普洱茶饼选用云南大叶种茶叶，经过传统工艺精心制作。茶汤红浓明亮，滋味醇厚回甘，具有独特的陈香。适合收藏和日常品饮。",image:"/src/assets/images/产品/茶饼/茶饼包装.jpg",gallery:["/src/assets/images/产品/茶饼/茶饼包装.jpg","/src/assets/images/产品/茶饼/茶饼原料1.jpg","/src/assets/images/产品/茶饼/茶饼原料2.jpg","/src/assets/images/产品/茶饼/茶饼原料3.jpg"],price:168,originalPrice:198,badge:"热销",categoryId:"tea",rating:5,reviews:234,specs:["重量：357g","年份：2023年","产地：云南普洱","包装：棉纸包装"],tags:["有机","传统工艺","收藏级"]},{id:2,name:"散装普洱茶（一级）",description:"新鲜采摘，自然晒干，原汁原味",fullDescription:"采用当季新鲜茶叶，经过自然晒干工艺，保持茶叶的原始香味。茶汤清澈，口感清香甘甜，是日常品茶的绝佳选择。",image:"/src/assets/images/产品/普洱茶/普洱茶1.jpg",gallery:["/src/assets/images/产品/普洱茶/普洱茶1.jpg","/src/assets/images/产品/普洱茶/普洱茶2.jpg","/src/assets/images/产品/普洱茶/普洱茶3.jpg"],price:88,originalPrice:108,badge:"新品",categoryId:"tea",rating:4,reviews:156,specs:["重量：250g","等级：一级","产地：云南普洱","包装：密封袋装"],tags:["新鲜","自然","日常品饮"]},{id:3,name:"普洱茶精装礼盒",description:"精美包装，送礼佳品",fullDescription:"精选多款优质普洱茶，配以精美礼盒包装。包含生茶、熟茶各一饼，适合商务送礼或节日馈赠。",image:"/src/assets/images/产品/普洱茶/普洱茶包装刀版图.jpg",gallery:["/src/assets/images/产品/普洱茶/普洱茶包装刀版图.jpg","/src/assets/images/产品/普洱茶/普洱茶摆放环境展示.jpg"],price:298,originalPrice:358,badge:"礼品",categoryId:"tea",rating:5,reviews:67,specs:["内含：生茶357g + 熟茶357g","包装：高档礼盒","产地：云南普洱","适合：送礼收藏"],tags:["礼盒装","送礼","高档"]},{id:4,name:"陈年普洱茶饼（5年陈）",description:"5年自然陈化，口感醇厚",fullDescription:"经过5年自然陈化的普洱茶饼，茶性温和，口感醇厚甘甜。陈香浓郁，汤色红亮，是普洱茶爱好者的珍藏佳品。",image:"/src/assets/images/产品/茶饼/茶饼原料4.jpg",gallery:["/src/assets/images/产品/茶饼/茶饼原料4.jpg","/src/assets/images/产品/茶饼/茶饼原料1.jpg"],price:388,originalPrice:458,badge:"珍藏",categoryId:"tea",rating:5,reviews:234,specs:["重量：357g","年份：2019年","陈化：5年","产地：云南普洱"],tags:["陈年","珍藏","限量"]},{id:11,name:"茶茶主题帆布包",description:"可爱IP形象，实用环保",fullDescription:"以茶茶为主题设计的帆布包，采用优质帆布材料，结实耐用。包包印有可爱的茶茶形象，既实用又具有纪念意义。",image:"/src/assets/images/IP形象衍生产品/帆布包/帆布包1.jpg",gallery:["/src/assets/images/IP形象衍生产品/帆布包/帆布包1.jpg","/src/assets/images/IP形象衍生产品/帆布包/帆布包2.png","/src/assets/images/IP形象衍生产品/帆布包/帆布包3.jpg"],price:58,badge:"新品",categoryId:"ip",rating:5,reviews:45,specs:["材质：优质帆布","尺寸：35×40×12cm","设计：茶茶主题","容量：15L"],tags:["环保","实用","IP周边"],isNew:!0},{id:12,name:"茶茶纪念挂坠",description:"精美挂坠，随身携带",fullDescription:"精致的茶茶主题挂坠，采用优质材料制作。可作为钥匙扣、包包挂饰使用，让茶茶时刻陪伴在您身边。",image:"/src/assets/images/IP形象衍生产品/挂坠/挂坠1.jpg",gallery:["/src/assets/images/IP形象衍生产品/挂坠/挂坠1.jpg","/src/assets/images/IP形象衍生产品/挂坠/挂坠2.jpg","/src/assets/images/IP形象衍生产品/挂坠/挂坠展示.jpg"],price:28,badge:"新品",categoryId:"ip",rating:4,reviews:89,specs:["材质：合金+亚克力","尺寸：5×3×0.5cm","设计：茶茶形象","用途：装饰挂件"],tags:["挂饰","可爱","IP周边"]},{id:13,name:"普普主题水杯",description:"精美陶瓷杯，品茶首选",fullDescription:"以普普为主题设计的陶瓷水杯，采用优质陶瓷材料，杯身印有精美的普普图案。容量适中，是品茶和日常使用的理想选择。",image:"/src/assets/images/IP形象衍生产品/水杯/水杯1.jpg",price:38,badge:"实用",categoryId:"ip",rating:4,reviews:156,specs:["材质：优质陶瓷","容量：350ml","设计：普普主题","工艺：高温烧制"],tags:["陶瓷","实用","IP周边"]},{id:14,name:"茶茶主题服装（女款）",description:"舒适面料，时尚设计",fullDescription:"以茶茶为主题设计的休闲服装，采用舒适透气的面料。印有可爱的茶茶图案，适合日常穿着和旅游纪念。",image:"/src/assets/images/IP形象衍生产品/衣服/衣服1（女）.jpg",gallery:["/src/assets/images/IP形象衍生产品/衣服/衣服1（女）.jpg","/src/assets/images/IP形象衍生产品/衣服/衣服3.png"],price:128,originalPrice:158,badge:"限量",categoryId:"ip",rating:5,reviews:67,specs:["材质：纯棉","尺寸：S/M/L/XL","设计：茶茶主题","颜色：白色/粉色"],tags:["服装","舒适","IP周边"]},{id:15,name:"茶茶主题服装（男款）",description:"简约设计，舒适穿着",fullDescription:"茶茶主题男款休闲服装，简约而不失个性的设计。采用优质面料，穿着舒适，是茶茶粉丝的必备单品。",image:"/src/assets/images/IP形象衍生产品/衣服/衣服2（男）.jpg",price:118,originalPrice:148,badge:"热销",categoryId:"ip",rating:4,reviews:89,specs:["材质：纯棉","尺寸：S/M/L/XL/XXL","设计：茶茶主题","颜色：黑色/灰色"],tags:["服装","简约","IP周边"]},{id:16,name:"茶茶平板保护套",description:"茶茶图案，保护设备",fullDescription:"茶茶主题平板电脑保护套，采用优质PU皮革制作。内部有柔软绒布保护，外观印有精美的茶茶图案。",image:"/src/assets/images/IP形象衍生产品/平板/平板外壳1.png",gallery:["/src/assets/images/IP形象衍生产品/平板/平板外壳1.png","/src/assets/images/IP形象衍生产品/平板/平板外壳2.png","/src/assets/images/IP形象衍生产品/平板/平板外壳3.png"],price:68,badge:"新品",categoryId:"ip",rating:5,reviews:234,specs:["适用：9.7-10.1寸平板","材质：PU皮革+绒布","设计：茶茶主题","功能：防摔保护"],tags:["保护套","实用","IP周边"]},{id:21,name:"庄园纪念勋章（金色版）",description:"庄园专属纪念，限量发售",fullDescription:"普洱蘑菇庄园专属纪念勋章，采用精美工艺制作。金色版本限量发售，具有很高的收藏和纪念价值。",image:"/src/assets/images/IP形象衍生产品/勋章/勋章1.jpg",gallery:["/src/assets/images/IP形象衍生产品/勋章/勋章1.jpg","/src/assets/images/IP形象衍生产品/勋章/勋章2.jpg"],price:38,badge:"限量",categoryId:"souvenir",rating:5,reviews:67,specs:["材质：合金镀金","直径：4cm","设计：庄园专属","限量：1000枚"],tags:["纪念品","限量","收藏"]},{id:22,name:"庄园纪念勋章（银色版）",description:"经典设计，典雅大方",fullDescription:"普洱蘑菇庄园纪念勋章银色版，设计典雅大方。采用优质合金材料，表面镀银处理，光泽持久。",image:"/src/assets/images/IP形象衍生产品/勋章/勋章2.jpg",gallery:["/src/assets/images/IP形象衍生产品/勋章/勋章2.jpg","/src/assets/images/IP形象衍生产品/勋章/勋章3.jpg"],price:28,badge:"经典",categoryId:"souvenir",rating:4,reviews:123,specs:["材质：合金镀银","直径：4cm","设计：庄园专属","工艺：压铸成型"],tags:["纪念品","经典","收藏"]},{id:23,name:"庄园纪念勋章（铜色版）",description:"复古风格，怀旧情怀",fullDescription:"普洱蘑菇庄园纪念勋章铜色版，复古风格设计，充满怀旧情怀。表面做旧处理，展现历史沧桑感。",image:"/src/assets/images/IP形象衍生产品/勋章/勋章3.jpg",gallery:["/src/assets/images/IP形象衍生产品/勋章/勋章3.jpg","/src/assets/images/IP形象衍生产品/勋章/勋章1.jpg"],price:25,badge:"复古",categoryId:"souvenir",rating:4,reviews:67,specs:["材质：合金做旧","直径：4cm","设计：庄园专属","工艺：仿古处理"],tags:["纪念品","复古","收藏"]}]),A=V(()=>{let r=h.value==="all"?g.value:g.value.filter(t=>t.categoryId===h.value);b.value==="price-low"?r=r.sort((t,d)=>t.price-d.price):b.value==="price-high"?r=r.sort((t,d)=>d.price-t.price):b.value==="rating"&&(r=r.sort((t,d)=>(d.rating||0)-(t.rating||0)));const i=w.value*X;return r.slice(0,i)}),W=V(()=>{const r=h.value==="all"?g.value.length:g.value.filter(i=>i.categoryId===h.value).length;return w.value*X<r}),G=()=>{P.value=!0,setTimeout(()=>{w.value++,P.value=!1},1e3)},Z=()=>{window.scrollTo({top:0,behavior:"smooth"})},N=()=>{S.value=window.scrollY>500},x=V(()=>g.value.filter(r=>["热销","新品","限量","珍藏"].includes(r.badge||"")).slice(0,3)),U=r=>{if(!r)return"其他";const i=$.value.find(t=>t.id===r);return i?i.name:"其他"},ss=r=>r==="all"?g.value.length:g.value.filter(i=>i.categoryId===r).length,B=r=>r&&{热销:"badge-hot",新品:"badge-new",限量:"badge-limited",推荐:"badge-recommend",礼品:"badge-gift",珍藏:"badge-premium",传统:"badge-traditional",手工:"badge-handmade",经典:"badge-classic",实用:"badge-practical",复古:"badge-vintage",新鲜:"badge-fresh"}[r]||"badge-default",ts=()=>{const r=document.querySelector(".products-section");r&&r.scrollIntoView({behavior:"smooth"})},es=()=>{const r=document.querySelector(".category-section");r&&r.scrollIntoView({behavior:"smooth"})},q=r=>{a.value=r,k.value=!0},D=(r,i)=>{if(r.stopPropagation(),!C.isAuthenticated){e.push("/login");return}try{_.addToCart(i,1),F(`${i.name} 已添加到购物车`)}catch(t){alert(t.message)}},as=r=>{q(r)},is=r=>{if(!C.isAuthenticated){e.push("/login");return}F(`${r.name} 已添加到收藏夹`)},L=(r,i)=>{if(r&&r.stopPropagation(),!C.isAuthenticated){e.push("/login");return}const t=i||a.value;if(!t){alert("请选择要购买的产品");return}try{_.addToCart(t,1),F(`${t.name} 已添加到购物车，准备结算`)}catch(d){alert(d.message)}},F=r=>{alert(r)},O=()=>{k.value=!1,a.value=null},os=r=>{const i=r.target,t=i.closest(".image-gallery");t&&(t.querySelectorAll("img").forEach(E=>E.classList.remove("active")),i.classList.add("active"))},ns=()=>{const r=new IntersectionObserver(t=>{t.forEach(d=>{d.isIntersecting&&d.target.classList.add("animate-in")})},{threshold:.1});document.querySelectorAll(".category-card, .product-card, .featured-card").forEach(t=>r.observe(t))},ls=()=>{const r=document.querySelectorAll(".hero-slide");if(r.length<=1)return;let i=0;setInterval(()=>{r[i].classList.remove("active"),i=(i+1)%r.length,r[i].classList.add("active")},5e3)},rs=()=>{document.querySelectorAll(".product-card").forEach(i=>{const t=i;i.addEventListener("mouseenter",()=>{t.style.transform="translateY(-8px) scale(1.02)"}),i.addEventListener("mouseleave",()=>{t.style.transform="translateY(0) scale(1)"})})},cs=()=>{document.querySelectorAll(".fade-in-up, .slide-in-left, .slide-in-right").forEach((i,t)=>{setTimeout(()=>{i.classList.add("animate-in")},t*100)})};return J(()=>{console.log("周边产品页面加载完成"),setTimeout(()=>{ns(),ls(),rs(),cs()},100),window.addEventListener("scroll",N)}),ds(()=>{window.removeEventListener("scroll",N)}),(r,i)=>(l(),n("div",dt,[Q(us),s("main",ut,[s("section",{class:"products-hero"},[i[8]||(i[8]=s("div",{class:"hero-background"},[s("div",{class:"hero-carousel"},[s("div",{class:"hero-slide active",style:{"background-image":"url('/src/assets/images/产品/茶饼/茶饼包装.jpg')"}},[s("div",{class:"slide-overlay"})])])],-1)),s("div",{class:"hero-content"},[i[7]||(i[7]=M('<div class="hero-badge slide-in-left" data-v-1732d595><span class="badge-icon" data-v-1732d595>🛍️</span><span class="badge-text" data-v-1732d595>庄园精选</span></div><h1 class="hero-title fade-in-up" data-v-1732d595><span class="title-main gradient-text" data-v-1732d595>周边产品</span><span class="title-sub" data-v-1732d595>精选云南特色好物</span></h1><p class="hero-subtitle slide-in-right" data-v-1732d595> 带走庄园的美好回忆<br data-v-1732d595><span class="subtitle-highlight" data-v-1732d595>每一件都承载着普洱茶乡的文化底蕴</span></p>',3)),s("div",{class:"hero-buttons fade-in-up"},[s("button",{onClick:ts,class:"btn btn-primary btn-large glowing"},i[5]||(i[5]=[s("span",{class:"btn-text"},"立即选购",-1)])),s("button",{onClick:es,class:"btn btn-outline-white btn-large"},i[6]||(i[6]=[s("span",{class:"btn-text"},"浏览分类",-1)]))])])]),s("section",gt,[s("div",pt,[i[9]||(i[9]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"产品分类"),s("p",{class:"section-subtitle"},"精心分类，便于您的选择")],-1)),s("div",vt,[(l(!0),n(p,null,v($.value,t=>(l(),n("div",{key:t.id,onClick:d=>h.value=t.id,class:f(["category-card",{active:h.value===t.id}])},[s("div",ht,[s("i",{class:f(t.icon)},null,2)]),s("div",ft,[s("h3",bt,c(t.name),1),s("p",yt,c(t.description),1),s("div",_t,c(t.count)+"+ 产品",1)])],10,mt))),128))])])]),s("section",kt,[s("div",Ct,[i[12]||(i[12]=M('<div class="section-header" data-v-1732d595><div class="section-badge" data-v-1732d595><span class="badge-dot" data-v-1732d595></span><span data-v-1732d595>精选推荐</span></div><h2 class="section-title" data-v-1732d595><span class="title-highlight" data-v-1732d595>特色推荐</span><span class="title-main" data-v-1732d595>庄园精选，品质保证</span></h2></div>',1)),s("div",Pt,[(l(!0),n(p,null,v(x.value,t=>(l(),n("div",{key:t.id,class:"featured-card",onClick:d=>q(t)},[s("div",$t,[s("div",It,[s("img",{src:t.image,alt:t.name},null,8,St),i[10]||(i[10]=s("div",{class:"image-overlay"},[s("div",{class:"overlay-content"},[s("button",{class:"quick-view-btn"},[s("i",{class:"fas fa-eye"}),j(" 快速查看 ")])])],-1))]),s("div",{class:f(["product-badge",B(t.badge)])},c(t.badge),3),s("div",jt,[s("div",At,[(l(),n(p,null,v(5,d=>s("i",{key:d,class:f(["fas fa-star",{active:d<=(t.rating||5)}])},null,2)),64))]),s("span",qt,c(t.rating||5),1)])]),s("div",Dt,[s("div",Lt,c(U(t.categoryId)),1),s("h3",Ft,c(t.name),1),s("p",Et,c(t.description),1),t.specs?(l(),n("div",Tt,[(l(!0),n(p,null,v(t.specs.slice(0,2),d=>(l(),n("span",{key:d,class:"spec-tag"},c(d),1))),128))])):u("",!0),s("div",Vt,[s("div",Mt,[s("span",Nt,"¥"+c(t.price),1),t.originalPrice?(l(),n("span",Ut,"¥"+c(t.originalPrice),1)):u("",!0),t.originalPrice?(l(),n("span",Bt," 省¥"+c(t.originalPrice-t.price),1)):u("",!0)]),s("div",Ot,[s("button",{onClick:y(d=>D(d,t),["stop"]),class:"btn-cart"},i[11]||(i[11]=[s("i",{class:"fas fa-shopping-cart"},null,-1)]),8,Qt),s("button",{onClick:y(d=>L(d,t),["stop"]),class:"btn-buy"}," 立即购买 ",8,Xt)])])])],8,wt))),128))])])]),s("section",Ht,[i[19]||(i[19]=s("div",{class:"products-background"},[s("div",{class:"products-pattern"})],-1)),s("div",Yt,[s("div",zt,[i[14]||(i[14]=s("h2",{class:"section-title"},"全部产品",-1)),s("div",Jt,[s("div",Kt,[(l(!0),n(p,null,v($.value,t=>(l(),n("button",{key:t.id,onClick:d=>h.value=t.id,class:f(["filter-tab",{active:h.value===t.id}])},[s("i",{class:f(t.icon)},null,2),j(" "+c(t.name)+" ",1),s("span",Wt,c(ss(t.id)),1)],10,Rt))),128))]),s("div",Gt,[I(s("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>b.value=t),class:"sort-select"},i[13]||(i[13]=[M('<option value="default" data-v-1732d595>默认排序</option><option value="price-low" data-v-1732d595>价格从低到高</option><option value="price-high" data-v-1732d595>价格从高到低</option><option value="rating" data-v-1732d595>评分最高</option><option value="newest" data-v-1732d595>最新上架</option>',5)]),512),[[gs,b.value]])])])]),s("div",Zt,[(l(!0),n(p,null,v(A.value,t=>(l(),n("div",{key:t.id,class:"product-card modern-card",onClick:d=>q(t)},[s("div",se,[s("div",te,[s("img",{src:t.image,alt:t.name},null,8,ee),s("div",ae,[s("div",ie,[s("button",{onClick:y(d=>as(t),["stop"]),class:"action-btn quick-view"},i[15]||(i[15]=[s("i",{class:"fas fa-eye"},null,-1),s("span",{class:"tooltip"},"快速查看",-1)]),8,oe),s("button",{onClick:y(d=>D(d,t),["stop"]),class:"action-btn add-cart"},i[16]||(i[16]=[s("i",{class:"fas fa-shopping-cart"},null,-1),s("span",{class:"tooltip"},"加入购物车",-1)]),8,ne),s("button",{onClick:y(d=>is(t),["stop"]),class:"action-btn wishlist"},i[17]||(i[17]=[s("i",{class:"fas fa-heart"},null,-1),s("span",{class:"tooltip"},"收藏",-1)]),8,le)])])]),t.badge?(l(),n("div",re,[s("span",{class:f(["badge",B(t.badge)])},c(t.badge),3),t.isNew?(l(),n("span",ce,"新品")):u("",!0),t.isHot?(l(),n("span",de,"热销")):u("",!0)])):u("",!0),s("div",ue,[s("div",ge,[(l(),n(p,null,v(5,d=>s("i",{key:d,class:f(["fas fa-star",{active:d<=(t.rating||5)}])},null,2)),64))]),s("span",pe,c(t.rating||5),1)])]),s("div",ve,[s("div",me,c(U(t.categoryId)),1),s("h4",he,c(t.name),1),s("p",fe,c(t.description),1),t.tags?(l(),n("div",be,[(l(!0),n(p,null,v(t.tags.slice(0,3),d=>(l(),n("span",{key:d,class:"tag"},c(d),1))),128))])):u("",!0),s("div",ye,[s("div",_e,[s("div",ke,[s("span",Ce,"¥"+c(t.price),1),t.originalPrice?(l(),n("span",Pe,"¥"+c(t.originalPrice),1)):u("",!0)]),t.originalPrice?(l(),n("div",we,[s("span",$e,c(Math.round((1-t.price/t.originalPrice)*100))+"% OFF ",1)])):u("",!0)]),s("div",Ie,[s("button",{onClick:y(d=>L(d,t),["stop"]),class:"btn-buy-now"}," 立即购买 ",8,Se)])])])],8,xt))),128))]),W.value?(l(),n("div",je,[s("button",{onClick:G,class:"btn btn-outline btn-large load-more-btn",disabled:P.value},[P.value?(l(),n("span",De,i[18]||(i[18]=[s("i",{class:"fas fa-spinner loading-spinner"},null,-1),j(" 加载中... ")]))):(l(),n("span",qe,"加载更多产品"))],8,Ae)])):u("",!0)])])]),k.value?(l(),n("div",{key:0,class:"product-detail-modal",onClick:O},[s("div",{class:"modal-content",onClick:i[4]||(i[4]=y(()=>{},["stop"]))},[s("div",Le,[s("h3",null,c(a.value?.name),1),s("button",{onClick:O,class:"close-btn"},i[20]||(i[20]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",Fe,[s("div",Ee,[a.value?.gallery&&a.value.gallery.length>1?(l(),n("div",Te,[(l(!0),n(p,null,v(a.value.gallery,(t,d)=>(l(),n("img",{key:d,src:t,alt:a.value.name,class:f({active:d===0}),onClick:i[1]||(i[1]=E=>os(E))},null,10,Ve))),128))])):(l(),n("img",{key:1,src:a.value?.image,alt:a.value?.name},null,8,Me))]),s("div",Ne,[s("p",Ue,c(a.value?.fullDescription||a.value?.description),1),a.value?.specs?(l(),n("div",Be,[i[21]||(i[21]=s("h4",null,"产品规格",-1)),s("ul",null,[(l(!0),n(p,null,v(a.value.specs,t=>(l(),n("li",{key:t},c(t),1))),128))])])):u("",!0),s("div",Oe,[s("div",Qe,[(l(),n(p,null,v(5,t=>s("i",{key:t,class:f(["fas fa-star",{active:t<=(a.value?.rating||0)}])},null,2)),64))]),s("span",Xe,"("+c(a.value?.reviews||0)+"条评价)",1)]),s("div",He,[s("span",Ye,"¥"+c(a.value?.price),1),a.value?.originalPrice?(l(),n("span",ze,"¥"+c(a.value?.originalPrice),1)):u("",!0)]),s("div",Je,[s("button",{onClick:i[2]||(i[2]=t=>a.value&&L(t,a.value)),class:"btn-primary btn-large"},"立即购买"),s("button",{onClick:i[3]||(i[3]=t=>a.value&&D(t,a.value)),class:"btn-secondary btn-large"},"加入购物车")])])])])])):u("",!0),I(s("button",{onClick:Z,class:"scroll-top-btn floating",title:"回到顶部"},i[22]||(i[22]=[s("i",{class:"fas fa-chevron-up"},null,-1)]),512),[[ps,S.value]]),Q(ct)]))}}),Ge=K(Ke,[["__scopeId","data-v-1732d595"]]);export{Ge as default};
