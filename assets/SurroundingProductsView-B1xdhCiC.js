import{d as ns,a as os,u as is,b,o as ls,_ as rs,f as l,g as r,i as s,l as u,t as c,p as f,F as m,k as h,w as k,m as I,v as B,s as D,c as F,I as $s,h as p,A as Ps,L as Ss,j as V,M as zs,O as v,J as Is}from"./index-vYzfv9NW.js";import{useCartStore as cs}from"./cart-BWQtXmKZ.js";import{t as W}from"./tea-cake-material-1-CiMG2rvy.js";const As=ns({name:"ShoppingCart",setup(){const o=cs(),t=os(),$=is(),C=b(!1),y=b(!1),w=b(!1),a=b({shippingAddress:"",contactPhone:"",remarks:""}),_=()=>{if(!t.isAuthenticated){$.push("/login");return}C.value=!C.value},P=(g,j)=>{o.updateQuantity(g,j)},S=g=>{o.removeFromCart(g)},A=()=>{confirm("确定要清空购物车吗？")&&o.clearCart()},z=async()=>{if(!a.value.shippingAddress.trim()){alert("请填写收货地址");return}if(!a.value.contactPhone.trim()){alert("请填写联系电话");return}w.value=!0;try{const g=await o.createOrder({shippingAddress:a.value.shippingAddress,contactPhone:a.value.contactPhone,remarks:a.value.remarks});alert(`订单提交成功！
订单号：${g.id}`),a.value={shippingAddress:"",contactPhone:"",remarks:""},y.value=!1,C.value=!1,$.push("/orders")}catch(g){alert("订单提交失败："+g.message)}finally{w.value=!1}};return ls(()=>{t.isAuthenticated&&o.initializeUserData()}),{cartStore:o,authStore:t,showCart:C,showCheckout:y,isSubmitting:w,orderForm:a,toggleCart:_,updateQuantity:P,removeItem:S,clearCart:A,submitOrder:z}}}),Ds={class:"shopping-cart"},js={key:0,class:"cart-badge"},Es={class:"cart-header"},Ls={class:"cart-content"},Ms={key:0,class:"empty-cart"},Ts={key:1,class:"cart-items"},qs={class:"item-image"},Bs=["src","alt"],Fs={class:"item-info"},Vs={class:"item-desc"},Ns={class:"item-price"},Us={class:"current-price"},Os={key:0,class:"original-price"},Qs={class:"quantity-controls"},Ys=["onClick"],Xs={class:"quantity"},Hs=["onClick"],Js={class:"item-actions"},Gs=["onClick"],Ws={key:0,class:"cart-footer"},Rs={class:"cart-summary"},Ks={class:"summary-row"},Zs={key:0,class:"summary-row discount"},xs={class:"summary-row total"},se={class:"cart-actions"},ee={class:"checkout-header"},te={class:"checkout-body"},ae={class:"order-items"},ne=["src","alt"],oe={class:"item-details"},ie={class:"item-details-row"},le={class:"item-name"},re={class:"item-price"},ce={class:"item-details-row"},de={class:"item-quantity"},ue={class:"item-unit-price"},ge={class:"shipping-info"},pe={class:"form-group"},ve={class:"form-group"},me={class:"form-group"},he={class:"order-summary"},be={class:"summary-row"},ye={key:0,class:"summary-row discount"},_e={class:"summary-row total"},fe={class:"checkout-footer"},ke=["disabled"],Ce={key:0,class:"fas fa-spinner fa-spin"};function we(o,t,$,C,y,w){return r(),l("div",Ds,[s("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:f(["cart-button",{active:o.showCart}])},[t[15]||(t[15]=s("i",{class:"fas fa-shopping-cart"},null,-1)),o.cartStore.totalItems>0?(r(),l("span",js,c(o.cartStore.totalItems),1)):u("",!0)],2),o.showCart?(r(),l("div",{key:0,class:"cart-overlay",onClick:t[6]||(t[6]=(...a)=>o.toggleCart&&o.toggleCart(...a))},[s("div",{class:"cart-sidebar",onClick:t[5]||(t[5]=k(()=>{},["stop"]))},[s("div",Es,[t[17]||(t[17]=s("h3",null,"购物车",-1)),s("button",{onClick:t[1]||(t[1]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:"close-btn"},t[16]||(t[16]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",Ls,[o.cartStore.items.length===0?(r(),l("div",Ms,[t[18]||(t[18]=s("i",{class:"fas fa-shopping-cart"},null,-1)),t[19]||(t[19]=s("p",null,"购物车是空的",-1)),s("button",{onClick:t[2]||(t[2]=(...a)=>o.toggleCart&&o.toggleCart(...a)),class:"btn-primary"},"继续购物")])):(r(),l("div",Ts,[(r(!0),l(m,null,h(o.cartStore.items,a=>(r(),l("div",{key:a.id,class:"cart-item"},[s("div",qs,[s("img",{src:a.image,alt:a.name},null,8,Bs)]),s("div",Fs,[s("h4",null,c(a.name),1),s("p",Vs,c(a.description),1),s("div",Ns,[s("span",Us,"¥"+c(a.price),1),a.originalPrice?(r(),l("span",Os,"¥"+c(a.originalPrice),1)):u("",!0)]),s("div",Qs,[s("button",{onClick:_=>o.updateQuantity(a.id,a.quantity-1),class:"qty-btn"},t[20]||(t[20]=[s("i",{class:"fas fa-minus"},null,-1)]),8,Ys),s("span",Xs,c(a.quantity),1),s("button",{onClick:_=>o.updateQuantity(a.id,a.quantity+1),class:"qty-btn"},t[21]||(t[21]=[s("i",{class:"fas fa-plus"},null,-1)]),8,Hs)])]),s("div",Js,[s("button",{onClick:_=>o.removeItem(a.id),class:"remove-btn"},t[22]||(t[22]=[s("i",{class:"fas fa-trash"},null,-1)]),8,Gs)])]))),128))]))]),o.cartStore.items.length>0?(r(),l("div",Ws,[s("div",Rs,[s("div",Ks,[t[23]||(t[23]=s("span",null,"商品总数：",-1)),s("span",null,c(o.cartStore.totalItems)+"件",1)]),o.cartStore.savedAmount>0?(r(),l("div",Zs,[t[24]||(t[24]=s("span",null,"优惠金额：",-1)),s("span",null,"-¥"+c(o.cartStore.savedAmount.toFixed(2)),1)])):u("",!0),s("div",xs,[t[25]||(t[25]=s("span",null,"总计：",-1)),s("span",null,"¥"+c(o.cartStore.totalAmount.toFixed(2)),1)])]),s("div",se,[s("button",{onClick:t[3]||(t[3]=(...a)=>o.clearCart&&o.clearCart(...a)),class:"btn-secondary"},"清空购物车"),s("button",{onClick:t[4]||(t[4]=a=>o.showCheckout=!0),class:"btn-primary"},"去结算")])])):u("",!0)])])):u("",!0),o.showCheckout?(r(),l("div",{key:1,class:"checkout-modal",onClick:t[14]||(t[14]=a=>o.showCheckout=!1)},[s("div",{class:"checkout-content",onClick:t[13]||(t[13]=k(()=>{},["stop"]))},[s("div",ee,[t[27]||(t[27]=s("h3",null,"确认订单",-1)),s("button",{onClick:t[7]||(t[7]=a=>o.showCheckout=!1),class:"close-btn"},t[26]||(t[26]=[s("i",{class:"fas fa-times"},null,-1)]))]),s("div",te,[s("div",ae,[t[28]||(t[28]=s("h4",null,"商品清单",-1)),(r(!0),l(m,null,h(o.cartStore.items,a=>(r(),l("div",{key:a.id,class:"order-item"},[s("img",{src:a.image,alt:a.name},null,8,ne),s("div",oe,[s("div",ie,[s("span",le,c(a.name),1),s("span",re,"¥"+c((a.price*a.quantity).toFixed(2)),1)]),s("div",ce,[s("span",de,"数量: "+c(a.quantity),1),s("span",ue,"单价: ¥"+c(a.price),1)])])]))),128))]),s("div",ge,[t[32]||(t[32]=s("h4",null,"配送信息",-1)),s("div",pe,[t[29]||(t[29]=s("label",null,"收货地址：",-1)),I(s("textarea",{"onUpdate:modelValue":t[8]||(t[8]=a=>o.orderForm.shippingAddress=a),placeholder:"请输入详细的收货地址",required:""},null,512),[[B,o.orderForm.shippingAddress]])]),s("div",ve,[t[30]||(t[30]=s("label",null,"联系电话：",-1)),I(s("input",{"onUpdate:modelValue":t[9]||(t[9]=a=>o.orderForm.contactPhone=a),type:"tel",placeholder:"请输入联系电话",required:""},null,512),[[B,o.orderForm.contactPhone]])]),s("div",me,[t[31]||(t[31]=s("label",null,"备注信息：",-1)),I(s("textarea",{"onUpdate:modelValue":t[10]||(t[10]=a=>o.orderForm.remarks=a),placeholder:"如有特殊要求请在此说明（选填）"},null,512),[[B,o.orderForm.remarks]])])]),s("div",he,[s("div",be,[t[33]||(t[33]=s("span",null,"商品总数：",-1)),s("span",null,c(o.cartStore.totalItems)+"件",1)]),o.cartStore.savedAmount>0?(r(),l("div",ye,[t[34]||(t[34]=s("span",null,"优惠金额：",-1)),s("span",null,"-¥"+c(o.cartStore.savedAmount.toFixed(2)),1)])):u("",!0),t[36]||(t[36]=s("div",{class:"summary-row"},[s("span",null,"配送费："),s("span",null,"免费")],-1)),s("div",_e,[t[35]||(t[35]=s("span",null,"应付总额：",-1)),s("span",null,"¥"+c(o.cartStore.totalAmount.toFixed(2)),1)])])]),s("div",fe,[s("button",{onClick:t[11]||(t[11]=a=>o.showCheckout=!1),class:"btn-secondary"},"返回购物车"),s("button",{onClick:t[12]||(t[12]=(...a)=>o.submitOrder&&o.submitOrder(...a)),class:"btn-primary",disabled:o.isSubmitting},[o.isSubmitting?(r(),l("i",Ce)):u("",!0),D(" "+c(o.isSubmitting?"提交中...":"确认下单"),1)],8,ke)])])])):u("",!0)])}const $e=rs(As,[["render",we],["__scopeId","data-v-d72ba0b4"]]),N="/muguzhuangyuan/assets/tea-cake-package-CeEbEbnY.jpg",Pe="/muguzhuangyuan/assets/tea-cake-material-2-nSgH_cSL.jpg",Se="/muguzhuangyuan/assets/tea-cake-material-3-B6_G74Cx.jpg",R="/muguzhuangyuan/assets/tea-cake-material-4-BsUlrEsb.jpg",K="/muguzhuangyuan/assets/puer-tea-1-45zPbHWg.jpg",ze="/muguzhuangyuan/assets/puer-tea-2-B13NWAIL.jpg",Ie="/muguzhuangyuan/assets/puer-tea-3-BUoTBtSh.jpg",Z="/muguzhuangyuan/assets/puer-tea-package-template-QCczEPQX.jpg",Ae="/muguzhuangyuan/assets/puer-tea-environment-display-DwYtt2Qo.jpg",x="/muguzhuangyuan/assets/canvas-bag-1-hslRXjaO.jpg",De="/muguzhuangyuan/assets/canvas-bag-2-Qi7zAga2.png",je="/muguzhuangyuan/assets/canvas-bag-3-BEFDG6-Y.jpg",ss="/muguzhuangyuan/assets/pendant-1-DDcTlFzj.jpg",Ee="/muguzhuangyuan/assets/pendant-2-B37JGg0g.jpg",Le="/muguzhuangyuan/assets/pendant-display-CMxpS2ij.jpg",Me="/muguzhuangyuan/assets/cup-1-Dzw1P2II.jpg",es="/muguzhuangyuan/assets/clothing-1-female-DB9sJAut.jpg",Te="/muguzhuangyuan/assets/clothing-2-male-BsUO_8-a.jpg",qe="/muguzhuangyuan/assets/clothing-3-BJbV8QPa.png",ts="/muguzhuangyuan/assets/tablet-case-1-B4jUDQ2O.png",Be="/muguzhuangyuan/assets/tablet-case-2-D2d4OuPs.png",Fe="/muguzhuangyuan/assets/tablet-case-3-CMJG2WCe.png",U="/muguzhuangyuan/assets/badge-1-BkY9xlwm.jpg",O="/muguzhuangyuan/assets/badge-2-CC7EljF_.jpg",Q="/muguzhuangyuan/assets/badge-3-CLhozXY_.jpg",Ve={class:"page-container fade-in"},Ne={class:"main-content"},Ue={class:"products-hero"},Oe={class:"hero-background"},Qe=["src"],Ye={class:"category-section"},Xe={class:"container"},He={class:"category-grid"},Je=["onClick"],Ge={class:"category-icon"},We={class:"category-content"},Re={class:"category-name"},Ke={class:"category-desc"},Ze={class:"category-count"},xe={class:"featured-section"},st={class:"container"},et={class:"featured-showcase"},tt=["onClick"],at={class:"product-image-container"},nt={class:"product-image"},ot=["src","alt"],it={class:"image-overlay"},lt={class:"overlay-content"},rt={class:"quick-view-btn"},ct={class:"product-rating"},dt={class:"stars"},ut={class:"rating-text"},gt={class:"product-content"},pt={class:"product-category"},vt={class:"product-title"},mt={class:"product-desc"},ht={key:0,class:"product-specs"},bt={class:"product-footer"},yt={class:"product-price"},_t={class:"current-price"},ft={key:0,class:"original-price"},kt={key:1,class:"discount"},Ct={class:"product-actions"},wt=["onClick"],$t=["onClick"],Pt={class:"products-section"},St={class:"container"},zt={class:"section-header"},It={class:"products-filter"},At={class:"filter-tabs"},Dt=["onClick"],jt={class:"count"},Et={class:"filter-sort"},Lt={class:"products-grid"},Mt=["onClick"],Tt={class:"product-image-wrapper"},qt={class:"product-image"},Bt=["src","alt"],Ft={class:"image-overlay"},Vt={class:"overlay-actions"},Nt=["onClick"],Ut=["onClick"],Ot=["onClick"],Qt={key:0,class:"product-badges"},Yt={key:0,class:"badge badge-new"},Xt={key:1,class:"badge badge-hot"},Ht={class:"product-rating-overlay"},Jt={class:"stars"},Gt={class:"rating-score"},Wt={class:"product-content"},Rt={class:"product-category"},Kt={class:"product-name"},Zt={class:"product-description"},xt={key:0,class:"product-tags"},sa={class:"product-footer"},ea={class:"price-section"},ta={class:"price-main"},aa={class:"current-price"},na={key:0,class:"original-price"},oa={key:0,class:"discount-info"},ia={class:"discount-percent"},la={class:"product-actions"},ra=["onClick"],ca={key:0,class:"load-more-section"},da=["disabled"],ua={key:0},ga={key:1,class:"loading-content"},pa={class:"modal-header"},va={class:"modal-body"},ma={class:"detail-image"},ha={key:0,class:"image-gallery"},ba=["src","alt"],ya=["src","alt"],_a={class:"detail-info"},fa={class:"detail-desc"},ka={key:0,class:"detail-specs"},Ca={class:"detail-rating"},wa={class:"stars"},$a={class:"rating-text"},Pa={class:"detail-price"},Sa={class:"current-price"},za={key:0,class:"original-price"},Ia={class:"detail-actions"},as=12,Aa=ns({__name:"SurroundingProductsView",setup(o){const t=is(),$=os(),C=cs(),y=b("all"),w=b(!1),a=b(null),_=b("default"),P=b(!1),S=b(1),A=b(!1),z=b([{id:"all",name:"全部产品",icon:"fas fa-th-large",description:"浏览所有庄园产品",count:15},{id:"tea",name:"茶叶产品",icon:"fas fa-leaf",description:"精选普洱茶系列",count:4},{id:"ip",name:"IP衍生品",icon:"fas fa-star",description:"普普主题周边",count:6},{id:"souvenir",name:"纪念品",icon:"fas fa-gift",description:"庄园专属纪念",count:3},{id:"craft",name:"手工艺品",icon:"fas fa-palette",description:"传统手工制作",count:2}]),g=b([{id:1,name:"精品普洱茶饼",description:"选用优质大叶种茶叶，传统工艺制作",fullDescription:"这款精品普洱茶饼选用云南大叶种茶叶，经过传统工艺精心制作。茶汤红浓明亮，滋味醇厚回甘，具有独特的陈香。适合收藏和日常品饮。",image:N,gallery:[N,W,Pe,Se],price:168,originalPrice:198,badge:"热销",categoryId:"tea",rating:5,reviews:234,specs:["重量：357g","年份：2023年","产地：云南普洱","包装：棉纸包装"],tags:["有机","传统工艺","收藏级"]},{id:2,name:"散装普洱茶（一级）",description:"新鲜采摘，自然晒干，原汁原味",fullDescription:"采用当季新鲜茶叶，经过自然晒干工艺，保持茶叶的原始香味。茶汤清澈，口感清香甘甜，是日常品茶的绝佳选择。",image:K,gallery:[K,ze,Ie],price:88,originalPrice:108,badge:"新品",categoryId:"tea",rating:4,reviews:156,specs:["重量：250g","等级：一级","产地：云南普洱","包装：密封袋装"],tags:["新鲜","自然","日常品饮"]},{id:3,name:"普洱茶精装礼盒",description:"精美包装，送礼佳品",fullDescription:"精选多款优质普洱茶，配以精美礼盒包装。包含生茶、熟茶各一饼，适合商务送礼或节日馈赠。",image:Z,gallery:[Z,Ae],price:298,originalPrice:358,badge:"礼品",categoryId:"tea",rating:5,reviews:67,specs:["内含：生茶357g + 熟茶357g","包装：高档礼盒","产地：云南普洱","适合：送礼收藏"],tags:["礼盒装","送礼","高档"]},{id:4,name:"陈年普洱茶饼（5年陈）",description:"5年自然陈化，口感醇厚",fullDescription:"经过5年自然陈化的普洱茶饼，茶性温和，口感醇厚甘甜。陈香浓郁，汤色红亮，是普洱茶爱好者的珍藏佳品。",image:R,gallery:[R,W],price:388,originalPrice:458,badge:"珍藏",categoryId:"tea",rating:5,reviews:234,specs:["重量：357g","年份：2019年","陈化：5年","产地：云南普洱"],tags:["陈年","珍藏","限量"]},{id:11,name:"茶茶主题帆布包",description:"可爱IP形象，实用环保",fullDescription:"以茶茶为主题设计的帆布包，采用优质帆布材料，结实耐用。包包印有可爱的茶茶形象，既实用又具有纪念意义。",image:x,gallery:[x,De,je],price:58,badge:"新品",categoryId:"ip",rating:5,reviews:45,specs:["材质：优质帆布","尺寸：35×40×12cm","设计：茶茶主题","容量：15L"],tags:["环保","实用","IP周边"],isNew:!0},{id:12,name:"茶茶纪念挂坠",description:"精美挂坠，随身携带",fullDescription:"精致的茶茶主题挂坠，采用优质材料制作。可作为钥匙扣、包包挂饰使用，让茶茶时刻陪伴在您身边。",image:ss,gallery:[ss,Ee,Le],price:28,badge:"新品",categoryId:"ip",rating:4,reviews:89,specs:["材质：合金+亚克力","尺寸：5×3×0.5cm","设计：茶茶形象","用途：装饰挂件"],tags:["挂饰","可爱","IP周边"]},{id:13,name:"普普主题水杯",description:"精美陶瓷杯，品茶首选",fullDescription:"以普普为主题设计的陶瓷水杯，采用优质陶瓷材料，杯身印有精美的普普图案。容量适中，是品茶和日常使用的理想选择。",image:Me,price:38,badge:"实用",categoryId:"ip",rating:4,reviews:156,specs:["材质：优质陶瓷","容量：350ml","设计：普普主题","工艺：高温烧制"],tags:["陶瓷","实用","IP周边"]},{id:14,name:"茶茶主题服装（女款）",description:"舒适面料，时尚设计",fullDescription:"以茶茶为主题设计的休闲服装，采用舒适透气的面料。印有可爱的茶茶图案，适合日常穿着和旅游纪念。",image:es,gallery:[es,qe],price:128,originalPrice:158,badge:"限量",categoryId:"ip",rating:5,reviews:67,specs:["材质：纯棉","尺寸：S/M/L/XL","设计：茶茶主题","颜色：白色/粉色"],tags:["服装","舒适","IP周边"]},{id:15,name:"茶茶主题服装（男款）",description:"简约设计，舒适穿着",fullDescription:"茶茶主题男款休闲服装，简约而不失个性的设计。采用优质面料，穿着舒适，是茶茶粉丝的必备单品。",image:Te,price:118,originalPrice:148,badge:"热销",categoryId:"ip",rating:4,reviews:89,specs:["材质：纯棉","尺寸：S/M/L/XL/XXL","设计：茶茶主题","颜色：黑色/灰色"],tags:["服装","简约","IP周边"]},{id:16,name:"茶茶平板保护套",description:"茶茶图案，保护设备",fullDescription:"茶茶主题平板电脑保护套，采用优质PU皮革制作。内部有柔软绒布保护，外观印有精美的茶茶图案。",image:ts,gallery:[ts,Be,Fe],price:68,badge:"新品",categoryId:"ip",rating:5,reviews:234,specs:["适用：9.7-10.1寸平板","材质：PU皮革+绒布","设计：茶茶主题","功能：防摔保护"],tags:["保护套","实用","IP周边"]},{id:21,name:"庄园纪念勋章（金色版）",description:"庄园专属纪念，限量发售",fullDescription:"普洱蘑菇庄园专属纪念勋章，采用精美工艺制作。金色版本限量发售，具有很高的收藏和纪念价值。",image:U,gallery:[U,O],price:38,badge:"限量",categoryId:"souvenir",rating:5,reviews:67,specs:["材质：合金镀金","直径：4cm","设计：庄园专属","限量：1000枚"],tags:["纪念品","限量","收藏"]},{id:22,name:"庄园纪念勋章（银色版）",description:"经典设计，典雅大方",fullDescription:"普洱蘑菇庄园纪念勋章银色版，设计典雅大方。采用优质合金材料，表面镀银处理，光泽持久。",image:O,gallery:[O,Q],price:28,badge:"经典",categoryId:"souvenir",rating:4,reviews:123,specs:["材质：合金镀银","直径：4cm","设计：庄园专属","工艺：压铸成型"],tags:["纪念品","经典","收藏"]},{id:23,name:"庄园纪念勋章（铜色版）",description:"复古风格，怀旧情怀",fullDescription:"普洱蘑菇庄园纪念勋章铜色版，复古风格设计，充满怀旧情怀。表面做旧处理，展现历史沧桑感。",image:Q,gallery:[Q,U],price:25,badge:"复古",categoryId:"souvenir",rating:4,reviews:67,specs:["材质：合金做旧","直径：4cm","设计：庄园专属","工艺：仿古处理"],tags:["纪念品","复古","收藏"]}]),j=F(()=>{let i=y.value==="all"?g.value:g.value.filter(e=>e.categoryId===y.value);_.value==="price-low"?i=i.sort((e,d)=>e.price-d.price):_.value==="price-high"?i=i.sort((e,d)=>d.price-e.price):_.value==="rating"&&(i=i.sort((e,d)=>(d.rating||0)-(e.rating||0)));const n=S.value*as;return i.slice(0,n)}),ds=F(()=>{const i=y.value==="all"?g.value.length:g.value.filter(n=>n.categoryId===y.value).length;return S.value*as<i}),us=()=>{P.value=!0,setTimeout(()=>{S.value++,P.value=!1},1e3)},gs=()=>{window.scrollTo({top:0,behavior:"smooth"})},Y=()=>{A.value=window.scrollY>500},ps=F(()=>g.value.filter(i=>["热销","新品","限量","珍藏"].includes(i.badge||"")).slice(0,3)),X=i=>{if(!i)return"其他";const n=z.value.find(e=>e.id===i);return n?n.name:"其他"},H=i=>({"fas fa-th-large":"th-large","fas fa-leaf":"leaf","fas fa-star":"star","fas fa-gift":"gift","fas fa-palette":"palette"})[i]||"th-large",vs=i=>i==="all"?g.value.length:g.value.filter(n=>n.categoryId===i).length,J=i=>i&&{热销:"badge-hot",新品:"badge-new",限量:"badge-limited",推荐:"badge-recommend",礼品:"badge-gift",珍藏:"badge-premium",传统:"badge-traditional",手工:"badge-handmade",经典:"badge-classic",实用:"badge-practical",复古:"badge-vintage",新鲜:"badge-fresh"}[i]||"badge-default",ms=()=>{const i=document.querySelector(".products-section");i&&i.scrollIntoView({behavior:"smooth"})},hs=()=>{const i=document.querySelector(".category-section");i&&i.scrollIntoView({behavior:"smooth"})},E=i=>{a.value=i,w.value=!0},L=(i,n)=>{if(i.stopPropagation(),!$.isAuthenticated){t.push("/login");return}try{C.addToCart(n,1),T(`${n.name} 已添加到购物车`)}catch(e){alert(e.message)}},bs=i=>{E(i)},ys=i=>{if(!$.isAuthenticated){t.push("/login");return}T(`${i.name} 已添加到收藏夹`)},M=(i,n)=>{if(i&&i.stopPropagation(),!$.isAuthenticated){t.push("/login");return}const e=n||a.value;if(!e){alert("请选择要购买的产品");return}try{C.addToCart(e,1),T(`${e.name} 已添加到购物车，准备结算`)}catch(d){alert(d.message)}},T=i=>{alert(i)},G=()=>{w.value=!1,a.value=null},_s=i=>{const n=i.target,e=n.closest(".image-gallery");e&&(e.querySelectorAll("img").forEach(q=>q.classList.remove("active")),n.classList.add("active"))},fs=()=>{const i=new IntersectionObserver(e=>{e.forEach(d=>{d.isIntersecting&&d.target.classList.add("animate-in")})},{threshold:.1});document.querySelectorAll(".category-card, .product-card, .featured-card").forEach(e=>i.observe(e))},ks=()=>{const i=document.querySelectorAll(".hero-slide");if(i.length<=1)return;let n=0;setInterval(()=>{i[n].classList.remove("active"),n=(n+1)%i.length,i[n].classList.add("active")},5e3)},Cs=()=>{document.querySelectorAll(".product-card").forEach(n=>{const e=n;n.addEventListener("mouseenter",()=>{e.style.transform="translateY(-8px) scale(1.02)"}),n.addEventListener("mouseleave",()=>{e.style.transform="translateY(0) scale(1)"})})},ws=()=>{document.querySelectorAll(".fade-in-up, .slide-in-left, .slide-in-right").forEach((n,e)=>{setTimeout(()=>{n.classList.add("animate-in")},e*100)})};return ls(()=>{console.log("周边产品页面加载完成"),setTimeout(()=>{fs(),ks(),Cs(),ws()},100),window.addEventListener("scroll",Y)}),$s(()=>{window.removeEventListener("scroll",Y)}),(i,n)=>(r(),l("div",Ve,[p(Ps),s("main",Ne,[s("section",Ue,[s("div",Oe,[s("img",{src:Ss(N),alt:"茶饼包装",class:"hero-slide-image"},null,8,Qe)]),s("div",{class:"hero-content"},[n[7]||(n[7]=V('<div class="hero-badge slide-in-left" data-v-94e606ee><span class="badge-icon" data-v-94e606ee>🛍️</span><span class="badge-text" data-v-94e606ee>庄园精选</span></div><h1 class="hero-title fade-in-up" data-v-94e606ee><span class="title-main gradient-text" data-v-94e606ee>周边产品</span><span class="title-sub" data-v-94e606ee>精选云南特色好物</span></h1><p class="hero-subtitle slide-in-right" data-v-94e606ee> 带走庄园的美好回忆<br data-v-94e606ee><span class="subtitle-highlight" data-v-94e606ee>每一件都承载着普洱茶乡的文化底蕴</span></p>',3)),s("div",{class:"hero-buttons fade-in-up"},[s("button",{onClick:ms,class:"btn btn-primary btn-large glowing"},n[5]||(n[5]=[s("span",{class:"btn-text"},"立即选购",-1)])),s("button",{onClick:hs,class:"btn btn-outline-white btn-large"},n[6]||(n[6]=[s("span",{class:"btn-text"},"浏览分类",-1)]))])])]),s("section",Ye,[s("div",Xe,[n[8]||(n[8]=s("div",{class:"section-header"},[s("h2",{class:"section-title"},"产品分类"),s("p",{class:"section-subtitle"},"精心分类，便于您的选择")],-1)),s("div",He,[(r(!0),l(m,null,h(z.value,e=>(r(),l("div",{key:e.id,onClick:d=>y.value=e.id,class:f(["category-card",{active:y.value===e.id}])},[s("div",Ge,[p(v,{name:H(e.icon),size:28},null,8,["name"])]),s("div",We,[s("h3",Re,c(e.name),1),s("p",Ke,c(e.description),1),s("div",Ze,c(e.count)+"+ 产品",1)])],10,Je))),128))])])]),s("section",xe,[s("div",st,[n[10]||(n[10]=V('<div class="section-header" data-v-94e606ee><div class="section-badge" data-v-94e606ee><span class="badge-dot" data-v-94e606ee></span><span data-v-94e606ee>精选推荐</span></div><h2 class="section-title" data-v-94e606ee><span class="title-highlight" data-v-94e606ee>特色推荐</span><span class="title-main" data-v-94e606ee>庄园精选，品质保证</span></h2></div>',1)),s("div",et,[(r(!0),l(m,null,h(ps.value,e=>(r(),l("div",{key:e.id,class:"featured-card",onClick:d=>E(e)},[s("div",at,[s("div",nt,[s("img",{src:e.image,alt:e.name},null,8,ot),s("div",it,[s("div",lt,[s("button",rt,[p(v,{name:"eye",size:16}),n[9]||(n[9]=D(" 快速查看 "))])])])]),s("div",{class:f(["product-badge",J(e.badge)])},c(e.badge),3),s("div",ct,[s("div",dt,[(r(),l(m,null,h(5,d=>p(v,{key:d,name:"star",size:14,class:f({active:d<=(e.rating||5)})},null,8,["class"])),64))]),s("span",ut,c(e.rating||5),1)])]),s("div",gt,[s("div",pt,c(X(e.categoryId)),1),s("h3",vt,c(e.name),1),s("p",mt,c(e.description),1),e.specs?(r(),l("div",ht,[(r(!0),l(m,null,h(e.specs.slice(0,2),d=>(r(),l("span",{key:d,class:"spec-tag"},c(d),1))),128))])):u("",!0),s("div",bt,[s("div",yt,[s("span",_t,"¥"+c(e.price),1),e.originalPrice?(r(),l("span",ft,"¥"+c(e.originalPrice),1)):u("",!0),e.originalPrice?(r(),l("span",kt," 省¥"+c(e.originalPrice-e.price),1)):u("",!0)]),s("div",Ct,[s("button",{onClick:k(d=>L(d,e),["stop"]),class:"btn-cart"},[p(v,{name:"shopping-cart",size:16})],8,wt),s("button",{onClick:k(d=>M(d,e),["stop"]),class:"btn-buy"}," 立即购买 ",8,$t)])])])],8,tt))),128))])])]),s("section",Pt,[n[17]||(n[17]=s("div",{class:"products-background"},[s("div",{class:"products-pattern"})],-1)),s("div",St,[s("div",zt,[n[12]||(n[12]=s("h2",{class:"section-title"},"全部产品",-1)),s("div",It,[s("div",At,[(r(!0),l(m,null,h(z.value,e=>(r(),l("button",{key:e.id,onClick:d=>y.value=e.id,class:f(["filter-tab",{active:y.value===e.id}])},[p(v,{name:H(e.icon),size:20},null,8,["name"]),D(" "+c(e.name)+" ",1),s("span",jt,c(vs(e.id)),1)],10,Dt))),128))]),s("div",Et,[I(s("select",{"onUpdate:modelValue":n[0]||(n[0]=e=>_.value=e),class:"sort-select"},n[11]||(n[11]=[V('<option value="default" data-v-94e606ee>默认排序</option><option value="price-low" data-v-94e606ee>价格从低到高</option><option value="price-high" data-v-94e606ee>价格从高到低</option><option value="rating" data-v-94e606ee>评分最高</option><option value="newest" data-v-94e606ee>最新上架</option>',5)]),512),[[zs,_.value]])])])]),s("div",Lt,[(r(!0),l(m,null,h(j.value,e=>(r(),l("div",{key:e.id,class:"product-card modern-card",onClick:d=>E(e)},[s("div",Tt,[s("div",qt,[s("img",{src:e.image,alt:e.name},null,8,Bt),s("div",Ft,[s("div",Vt,[s("button",{onClick:k(d=>bs(e),["stop"]),class:"action-btn quick-view"},[p(v,{name:"eye",size:18}),n[13]||(n[13]=s("span",{class:"tooltip"},"快速查看",-1))],8,Nt),s("button",{onClick:k(d=>L(d,e),["stop"]),class:"action-btn add-cart"},[p(v,{name:"shopping-cart",size:18}),n[14]||(n[14]=s("span",{class:"tooltip"},"加入购物车",-1))],8,Ut),s("button",{onClick:k(d=>ys(e),["stop"]),class:"action-btn wishlist"},[p(v,{name:"heart",size:18}),n[15]||(n[15]=s("span",{class:"tooltip"},"收藏",-1))],8,Ot)])])]),e.badge?(r(),l("div",Qt,[s("span",{class:f(["badge",J(e.badge)])},c(e.badge),3),e.isNew?(r(),l("span",Yt,"新品")):u("",!0),e.isHot?(r(),l("span",Xt,"热销")):u("",!0)])):u("",!0),s("div",Ht,[s("div",Jt,[(r(),l(m,null,h(5,d=>p(v,{key:d,name:"star",size:14,class:f({active:d<=(e.rating||5)})},null,8,["class"])),64))]),s("span",Gt,c(e.rating||5),1)])]),s("div",Wt,[s("div",Rt,c(X(e.categoryId)),1),s("h4",Kt,c(e.name),1),s("p",Zt,c(e.description),1),e.tags?(r(),l("div",xt,[(r(!0),l(m,null,h(e.tags.slice(0,3),d=>(r(),l("span",{key:d,class:"tag"},c(d),1))),128))])):u("",!0),s("div",sa,[s("div",ea,[s("div",ta,[s("span",aa,"¥"+c(e.price),1),e.originalPrice?(r(),l("span",na,"¥"+c(e.originalPrice),1)):u("",!0)]),e.originalPrice?(r(),l("div",oa,[s("span",ia,c(Math.round((1-e.price/e.originalPrice)*100))+"% OFF ",1)])):u("",!0)]),s("div",la,[s("button",{onClick:k(d=>M(d,e),["stop"]),class:"btn-buy-now"}," 立即购买 ",8,ra)])])])],8,Mt))),128))]),ds.value?(r(),l("div",ca,[s("button",{onClick:us,class:"btn btn-outline btn-large load-more-btn",disabled:P.value},[P.value?(r(),l("span",ga,[p(v,{name:"spinner",size:16,class:"loading-spinner"}),n[16]||(n[16]=D(" 加载中... "))])):(r(),l("span",ua,"加载更多产品"))],8,da)])):u("",!0)])])]),w.value?(r(),l("div",{key:0,class:"product-detail-modal",onClick:G},[s("div",{class:"modal-content",onClick:n[4]||(n[4]=k(()=>{},["stop"]))},[s("div",pa,[s("h3",null,c(a.value?.name),1),s("button",{onClick:G,class:"close-btn"},[p(v,{name:"times",size:20})])]),s("div",va,[s("div",ma,[a.value?.gallery&&a.value.gallery.length>1?(r(),l("div",ha,[(r(!0),l(m,null,h(a.value.gallery,(e,d)=>(r(),l("img",{key:d,src:e,alt:a.value.name,class:f({active:d===0}),onClick:n[1]||(n[1]=q=>_s(q))},null,10,ba))),128))])):(r(),l("img",{key:1,src:a.value?.image,alt:a.value?.name},null,8,ya))]),s("div",_a,[s("p",fa,c(a.value?.fullDescription||a.value?.description),1),a.value?.specs?(r(),l("div",ka,[n[18]||(n[18]=s("h4",null,"产品规格",-1)),s("ul",null,[(r(!0),l(m,null,h(a.value.specs,e=>(r(),l("li",{key:e},c(e),1))),128))])])):u("",!0),s("div",Ca,[s("div",wa,[(r(),l(m,null,h(5,e=>p(v,{key:e,name:"star",size:16,class:f({active:e<=(a.value?.rating||0)})},null,8,["class"])),64))]),s("span",$a,"("+c(a.value?.reviews||0)+"条评价)",1)]),s("div",Pa,[s("span",Sa,"¥"+c(a.value?.price),1),a.value?.originalPrice?(r(),l("span",za,"¥"+c(a.value?.originalPrice),1)):u("",!0)]),s("div",Ia,[s("button",{onClick:n[2]||(n[2]=e=>a.value&&M(e,a.value)),class:"btn-primary btn-large"},"立即购买"),s("button",{onClick:n[3]||(n[3]=e=>a.value&&L(e,a.value)),class:"btn-secondary btn-large"},"加入购物车")])])])])])):u("",!0),I(s("button",{onClick:gs,class:"scroll-top-btn floating",title:"回到顶部"},[p(v,{name:"chevron-up",size:24})],512),[[Is,A.value]]),p($e)]))}}),La=rs(Aa,[["__scopeId","data-v-94e606ee"]]);export{La as default};
