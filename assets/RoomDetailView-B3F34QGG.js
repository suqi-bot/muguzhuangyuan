import{d as E,u as G,N as L,a as N,b,c as S,o as T,e as q,f as i,g as o,i as a,h as c,x as v,s as d,t as l,O as z,l as j,F as k,k as h,p,_ as O}from"./index-PKPpSeMn.js";import{r as w}from"./request-DzKJqaQU.js";const U={class:"room-detail-page"},H={class:"navbar"},J={class:"nav-container"},K={class:"nav-menu"},P={class:"nav-buttons"},Q={class:"user-welcome"},X={class:"main-content"},Y={key:0,class:"loading-container"},Z={key:1,class:"room-detail-container"},ss={class:"room-gallery"},as={class:"main-image"},es=["src","alt"],ts={class:"image-nav"},ls=["disabled"],is=["disabled"],os={key:0,class:"thumbnail-list"},ns=["src","alt","onClick"],rs={class:"room-info-section"},us={class:"room-header"},ds={class:"room-title"},cs={key:0,class:"room-rating"},vs={class:"stars"},ms={class:"rating-text"},gs={class:"room-price"},ps={class:"price"},_s={class:"room-description"},fs={class:"room-amenities"},bs={class:"amenities-grid"},ks={class:"room-details"},hs={class:"details-grid"},ys={class:"detail-item"},Cs={class:"value"},xs={class:"detail-item"},Is={class:"value"},js={class:"detail-item"},ws={class:"value"},Fs={class:"detail-item"},Rs={class:"value"},Ws={class:"booking-section"},Ds=["disabled"],$s={key:2,class:"error-container"},Ms=E({__name:"RoomDetailView",setup(Vs){const _=G(),y=L(),C=N(),f=b(!0),e=b(null),n=b(0),F=S(()=>!e.value?.images||e.value.images.length===0?"/src/assets/images/card/card01.jpg":e.value.images[n.value]),R=async()=>{f.value=!0;try{const t=y.params.id;let s;try{s=await w.get(`/h/room/detail?id=${t}`)}catch{s=await w.get(`/h/room/${t}`)}if(s.code===200||s.code==="200")s.data.room?e.value={...s.data.room,status:s.data.room.status===0?"available":"booked",images:s.data.img?.map(r=>W(r.url))||m(t),amenities:s.data.room.device?.split(",")||x()}:e.value={...s.data,status:s.data.status===0?"available":"booked",images:m(t),amenities:s.data.device?.split(",")||x()};else throw new Error("è·å–æˆ¿é—´è¯¦æƒ…å¤±è´¥")}catch(t){console.error("è·å–æˆ¿é—´è¯¦æƒ…å¤±è´¥:",t),e.value=$(y.params.id)}finally{f.value=!1}},W=t=>t?t.startsWith("http")?t:`http://localhost:8091/files/${t}`:D(),m=t=>({1:["/src/assets/images/å®åœ°è°ƒç ”/æˆ¿é—´å‚è§‚/æˆ¿é—´å‚è§‚1.jpg","/src/assets/images/å®åœ°è°ƒç ”/å®¤å†…è°ƒç ”/å®¤å†…1.jpg"],2:["/src/assets/images/å®åœ°è°ƒç ”/æˆ¿é—´å‚è§‚/æˆ¿é—´å‚è§‚2.jpg","/src/assets/images/å®åœ°è°ƒç ”/å®¤å†…è°ƒç ”/å®¤å†…2.jpg"],3:["/src/assets/images/å®åœ°è°ƒç ”/å®¤å†…è°ƒç ”/å®¤å†…3.jpg","/src/assets/images/å®åœ°è°ƒç ”/å®¤å†…è°ƒç ”/å®¤å†…4.jpg"]})[t]||["/src/assets/images/å®åœ°è°ƒç ”/æˆ¿é—´å‚è§‚/æˆ¿é—´å‚è§‚1.jpg","/src/assets/images/å®åœ°è°ƒç ”/å®¤å†…è°ƒç ”/å®¤å†…1.jpg"],x=()=>["å…è´¹WiFi","ç©ºè°ƒ","24å°æ—¶çƒ­æ°´","ç‹¬ç«‹å«æµ´","ç”µè§†","å†°ç®±"],D=()=>"/src/assets/images/å®åœ°è°ƒç ”/æˆ¿é—´å‚è§‚/æˆ¿é—´å‚è§‚1.jpg",$=t=>{const s={1:{id:1,name:"è˜‘è‡æ£®æ—å°å±‹",code:"MG-001",category:"è±ªåé—´",price:388,state:"ç©ºé—²",status:"available",describe:"éšè—åœ¨è˜‘è‡æ£®æ—æ·±å¤„çš„æ¸©é¦¨å°å±‹ï¼Œå››å‘¨ç¯ç»•ç€å„ç§çç¨€è˜‘è‡ã€‚æˆ¿é—´é‡‡ç”¨å¤©ç„¶æœ¨æè£…ä¿®ï¼Œé…å¤‡ç°ä»£åŒ–è®¾æ–½ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,è¿·ä½ å§,é˜³å°",address:"æ™®æ´±è˜‘è‡åº„å›­æ£®æ—åŒºAæ ‹",city:"æ™®æ´±å¸‚",seat:2,images:m("1"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","è¿·ä½ å§","é˜³å°"]},2:{id:2,name:"æ™®æ´±èŒ¶é¦™æœ¨å±‹",code:"MG-002",category:"æ ‡å‡†é—´",price:288,state:"ç©ºé—²",status:"available",describe:"å……æ»¡èŒ¶é¦™çš„ç²¾è‡´æœ¨å±‹ï¼Œæˆ¿é—´å†…é™ˆè®¾ç€å„ç§æ™®æ´±èŒ¶å…·å’ŒèŒ¶å¶ã€‚æ‚¨å¯ä»¥åœ¨æˆ¿é—´å†…å“èŒ¶èµæ™¯ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,èŒ¶å…·å¥—è£…,è§‚æ™¯çª—",address:"æ™®æ´±è˜‘è‡åº„å›­èŒ¶å›­åŒºBæ ‹",city:"æ™®æ´±å¸‚",seat:2,images:m("2"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","èŒ¶å…·å¥—è£…","è§‚æ™¯çª—"]},3:{id:3,name:"åº„å›­è±ªåå¥—æˆ¿",code:"MG-003",category:"å¥—æˆ¿",price:588,state:"ç©ºé—²",status:"available",describe:"åº„å›­å†…æœ€è±ªåçš„å¥—æˆ¿ï¼Œæ‹¥æœ‰ç‹¬ç«‹å®¢å…ã€å§å®¤å’Œè§‚æ™¯é˜³å°ã€‚æˆ¿é—´è£…ä¿®å…¸é›…ï¼Œè®¾æ–½é½å…¨ã€‚",device:"WiFi,ç©ºè°ƒ,ç”µè§†,ç‹¬ç«‹å«æµ´,å®¢å…,é˜³å°,è¿·ä½ å§,ä¿é™©ç®±",address:"æ™®æ´±è˜‘è‡åº„å›­ä¸»æ¥¼Cæ ‹",city:"æ™®æ´±å¸‚",seat:4,images:m("3"),amenities:["WiFi","ç©ºè°ƒ","ç”µè§†","ç‹¬ç«‹å«æµ´","å®¢å…","é˜³å°","è¿·ä½ å§","ä¿é™©ç®±"]}};return s[t]||s[1]},M=()=>{e.value?.images&&e.value.images.length>1&&(n.value=n.value===0?e.value.images.length-1:n.value-1)},V=()=>{e.value?.images&&e.value.images.length>1&&(n.value=n.value===e.value.images.length-1?0:n.value+1)},I=()=>{_.push("/ai-rooms")},B=()=>{e.value&&e.value.status==="available"&&_.push(`/book/${e.value.id}`)},A=()=>{C.logout(),_.push("/login")};return T(()=>{R()}),(t,s)=>{const r=q("router-link");return o(),i("div",U,[a("nav",H,[a("div",J,[s[6]||(s[6]=a("div",{class:"logo"},"ğŸ„ æ™®æ´±è˜‘è‡åº„å›­",-1)),a("div",K,[c(r,{to:"/",class:"nav-link"},{default:v(()=>s[0]||(s[0]=[d("é¦–é¡µ")])),_:1,__:[0]}),c(r,{to:"/tea-culture",class:"nav-link"},{default:v(()=>s[1]||(s[1]=[d("èŒ¶æ–‡åŒ–")])),_:1,__:[1]}),c(r,{to:"/products",class:"nav-link"},{default:v(()=>s[2]||(s[2]=[d("æ°‘å®¿äº§å“")])),_:1,__:[2]}),c(r,{to:"/ai-rooms",class:"nav-link"},{default:v(()=>s[3]||(s[3]=[d("AIé€‰æˆ¿")])),_:1,__:[3]}),c(r,{to:"/orders",class:"nav-link"},{default:v(()=>s[4]||(s[4]=[d("è®¢å•")])),_:1,__:[4]}),c(r,{to:"/profile",class:"nav-link"},{default:v(()=>s[5]||(s[5]=[d("ä¸ªäººä¿¡æ¯")])),_:1,__:[5]})]),a("div",P,[a("span",Q,"æ¬¢è¿ï¼Œ"+l(z(C).user?.username),1),a("button",{onClick:A,class:"btn btn-outline"},"é€€å‡º")])])]),a("main",X,[f.value?(o(),i("div",Y,s[7]||(s[7]=[a("i",{class:"fas fa-spinner fa-spin"},null,-1),a("span",null,"åŠ è½½ä¸­...",-1)]))):e.value?(o(),i("div",Z,[a("div",{class:"back-section"},[a("button",{onClick:I,class:"back-btn"},s[8]||(s[8]=[a("i",{class:"fas fa-arrow-left"},null,-1),d(" è¿”å›æˆ¿é—´åˆ—è¡¨ ")]))]),a("div",ss,[a("div",as,[a("img",{src:F.value,alt:e.value.name},null,8,es),a("div",ts,[a("button",{onClick:M,class:"nav-btn prev-btn",disabled:e.value.images.length<=1},s[9]||(s[9]=[a("i",{class:"fas fa-chevron-left"},null,-1)]),8,ls),a("button",{onClick:V,class:"nav-btn next-btn",disabled:e.value.images.length<=1},s[10]||(s[10]=[a("i",{class:"fas fa-chevron-right"},null,-1)]),8,is)])]),e.value.images.length>1?(o(),i("div",os,[(o(!0),i(k,null,h(e.value.images,(u,g)=>(o(),i("img",{key:g,src:u,alt:`${e.value.name} ${g+1}`,class:p({active:n.value===g}),onClick:Bs=>n.value=g},null,10,ns))),128))])):j("",!0)]),a("div",rs,[a("div",us,[a("h1",ds,l(e.value.name),1),e.value.rating?(o(),i("div",cs,[a("div",vs,[(o(),i(k,null,h(5,u=>a("i",{key:u,class:p(u<=e.value.rating?"fas fa-star":"fa-regular fa-star")},null,2)),64))]),a("span",ms,l(e.value.rating)+" åˆ†",1)])):j("",!0)]),a("div",gs,[a("span",ps,"Â¥"+l(e.value.price),1),s[11]||(s[11]=a("span",{class:"unit"},"/æ™š",-1))]),a("div",_s,[s[12]||(s[12]=a("h3",null,"æˆ¿é—´ä»‹ç»",-1)),a("p",null,l(e.value.description),1)]),a("div",fs,[s[14]||(s[14]=a("h3",null,"æˆ¿é—´è®¾æ–½",-1)),a("div",bs,[(o(!0),i(k,null,h(e.value.amenities,u=>(o(),i("div",{key:u,class:"amenity-item"},[s[13]||(s[13]=a("i",{class:"fas fa-check"},null,-1)),a("span",null,l(u),1)]))),128))])]),a("div",ks,[s[19]||(s[19]=a("h3",null,"è¯¦ç»†ä¿¡æ¯",-1)),a("div",hs,[a("div",ys,[s[15]||(s[15]=a("span",{class:"label"},"æˆ¿é—´ç±»å‹ï¼š",-1)),a("span",Cs,l(e.value.type),1)]),a("div",xs,[s[16]||(s[16]=a("span",{class:"label"},"æˆ¿é—´é¢ç§¯ï¼š",-1)),a("span",Is,l(e.value.area||"25")+"ã¡",1)]),a("div",js,[s[17]||(s[17]=a("span",{class:"label"},"æœ€å¤§å…¥ä½ï¼š",-1)),a("span",ws,l(e.value.maxGuests||"2")+"äºº",1)]),a("div",Fs,[s[18]||(s[18]=a("span",{class:"label"},"åºŠå‹ï¼š",-1)),a("span",Rs,l(e.value.bedType||"å¤§åºŠ"),1)])])]),a("div",Ws,[a("div",{class:p(["availability-status",e.value.status])},[a("i",{class:p(e.value.status==="available"?"fas fa-check-circle":"fas fa-times-circle")},null,2),a("span",null,l(e.value.status==="available"?"å¯é¢„è®¢":"å·²è¢«é¢„è®¢"),1)],2),a("button",{class:"book-btn",disabled:e.value.status!=="available",onClick:B},l(e.value.status==="available"?"ç«‹å³é¢„è®¢":"æš‚ä¸å¯é¢„è®¢"),9,Ds)])])])):(o(),i("div",$s,[s[20]||(s[20]=a("i",{class:"fas fa-exclamation-triangle"},null,-1)),s[21]||(s[21]=a("h3",null,"æˆ¿é—´ä¸å­˜åœ¨",-1)),s[22]||(s[22]=a("p",null,"æŠ±æ­‰ï¼Œæ‚¨æŸ¥çœ‹çš„æˆ¿é—´ä¸å­˜åœ¨æˆ–å·²è¢«åˆ é™¤",-1)),a("button",{onClick:I,class:"btn btn-primary"},"è¿”å›æˆ¿é—´åˆ—è¡¨")]))])])}}}),Gs=O(Ms,[["__scopeId","data-v-6b0905f5"]]);export{Gs as default};
