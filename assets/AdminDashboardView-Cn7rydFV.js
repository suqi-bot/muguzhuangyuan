import{d as R,u as y,a as C,b as V,r as w,o as N,f as i,g as r,i as s,s as f,t as d,L as A,p as u,l as O,h as m,_ as M}from"./index-vYzfv9NW.js";import{r as c}from"./request-DzKJqaQU.js";import S from"./RoomManagementView-DjxJ7Aoa.js";import U from"./OrderManagementView-dgf3v9-z.js";import x from"./UserManagementView-MjN7RMZJ.js";const z={class:"admin-dashboard"},$={class:"admin-navbar"},B={class:"navbar-content"},D={class:"navbar-right"},q={class:"admin-info"},L={class:"admin-content"},E={class:"admin-sidebar"},I={class:"sidebar-menu"},T={class:"admin-main"},j={key:0,class:"dashboard-content"},F={class:"stats-grid"},G={class:"stat-card"},H={class:"stat-info"},J={class:"stat-number"},K={class:"stat-card"},P={class:"stat-info"},Q={class:"stat-number"},W={class:"stat-card"},X={class:"stat-info"},Y={class:"stat-number"},Z={class:"stat-card"},ss={class:"stat-info"},ts={class:"stat-number"},as={key:1,class:"rooms-content"},os={key:2,class:"orders-content"},ns={key:3,class:"users-content"},es=R({__name:"AdminDashboardView",setup(ls){const p=y(),v=C(),o=V("dashboard"),a=w({totalRooms:0,totalOrders:0,totalUsers:0,monthlyRevenue:0}),n=e=>{o.value=e},b=async()=>{try{const e=await c.get("/h/room",{params:{pageNum:1,pageSize:1}});e.code===200&&(a.totalRooms=e.data?.total||0);const t=await c.get("/h/order",{params:{pageNum:1,pageSize:1}});t.code===200&&(a.totalOrders=t.data?.total||0);const l=await c.get("/h/user",{params:{pageNum:1,pageSize:1}});l.code===200&&(a.totalUsers=l.data?.total||0),a.monthlyRevenue=a.totalOrders*450}catch{a.totalRooms=12,a.totalOrders=156,a.totalUsers=89,a.monthlyRevenue=45680}},g=()=>{confirm("确定要退出管理后台吗？")&&(v.logout(),p.push("/admin/login"))},_=()=>{n("rooms")},k=()=>{n("orders")},h=()=>{n("users")};return N(()=>{b()}),(e,t)=>(r(),i("div",z,[s("nav",$,[s("div",B,[t[6]||(t[6]=s("div",{class:"navbar-left"},[s("div",{class:"logo"},[s("i",{class:"fas fa-seedling"}),f(" 普洱蘑菇庄园民宿 - 管理后台 ")])],-1)),s("div",D,[s("div",q,[t[4]||(t[4]=s("i",{class:"fas fa-user-shield"},null,-1)),s("span",null,d(A(v).user?.realName||"管理员"),1)]),s("button",{onClick:g,class:"logout-btn"},t[5]||(t[5]=[s("i",{class:"fas fa-right-from-bracket"},null,-1),f(" 退出登录 ")]))])])]),s("div",L,[s("aside",E,[s("div",I,[s("div",{class:u(["menu-item",{active:o.value==="dashboard"}]),onClick:t[0]||(t[0]=l=>n("dashboard"))},t[7]||(t[7]=[s("i",{class:"fas fa-tachometer-alt"},null,-1),s("span",null,"仪表板",-1)]),2),s("div",{class:u(["menu-item",{active:o.value==="rooms"}]),onClick:t[1]||(t[1]=l=>n("rooms"))},t[8]||(t[8]=[s("i",{class:"fas fa-bed"},null,-1),s("span",null,"房间管理",-1)]),2),s("div",{class:u(["menu-item",{active:o.value==="orders"}]),onClick:t[2]||(t[2]=l=>n("orders"))},t[9]||(t[9]=[s("i",{class:"fas fa-clipboard-list"},null,-1),s("span",null,"订单管理",-1)]),2),s("div",{class:u(["menu-item",{active:o.value==="users"}]),onClick:t[3]||(t[3]=l=>n("users"))},t[10]||(t[10]=[s("i",{class:"fas fa-users"},null,-1),s("span",null,"用户管理",-1)]),2)])]),s("main",T,[o.value==="dashboard"?(r(),i("div",j,[t[23]||(t[23]=s("h1",{class:"page-title"},"管理仪表板",-1)),s("div",F,[s("div",G,[t[12]||(t[12]=s("div",{class:"stat-icon rooms"},[s("i",{class:"fas fa-bed"})],-1)),s("div",H,[t[11]||(t[11]=s("h3",null,"总房间数",-1)),s("p",J,d(a.totalRooms),1)])]),s("div",K,[t[14]||(t[14]=s("div",{class:"stat-icon orders"},[s("i",{class:"fas fa-clipboard-list"})],-1)),s("div",P,[t[13]||(t[13]=s("h3",null,"总订单数",-1)),s("p",Q,d(a.totalOrders),1)])]),s("div",W,[t[16]||(t[16]=s("div",{class:"stat-icon users"},[s("i",{class:"fas fa-users"})],-1)),s("div",X,[t[15]||(t[15]=s("h3",null,"注册用户",-1)),s("p",Y,d(a.totalUsers),1)])]),s("div",Z,[t[18]||(t[18]=s("div",{class:"stat-icon revenue"},[s("i",{class:"fas fa-dollar-sign"})],-1)),s("div",ss,[t[17]||(t[17]=s("h3",null,"本月收入",-1)),s("p",ts,"¥"+d(a.monthlyRevenue),1)])])]),s("div",{class:"quick-actions"},[t[22]||(t[22]=s("h2",null,"快速操作",-1)),s("div",{class:"action-grid"},[s("button",{class:"action-btn",onClick:_},t[19]||(t[19]=[s("i",{class:"fas fa-plus"},null,-1),s("span",null,"添加房间",-1)])),s("button",{class:"action-btn",onClick:k},t[20]||(t[20]=[s("i",{class:"fas fa-eye"},null,-1),s("span",null,"查看订单",-1)])),s("button",{class:"action-btn",onClick:h},t[21]||(t[21]=[s("i",{class:"fas fa-user-plus"},null,-1),s("span",null,"管理用户",-1)]))])])])):o.value==="rooms"?(r(),i("div",as,[m(S)])):o.value==="orders"?(r(),i("div",os,[m(U)])):o.value==="users"?(r(),i("div",ns,[m(x)])):O("",!0)])])]))}}),cs=M(es,[["__scopeId","data-v-270804b6"]]);export{cs as default};
