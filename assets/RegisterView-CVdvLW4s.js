import{d as M,u as D,r as S,b as v,c as g,o as U,e as C,f as m,g as f,h as w,i as e,A as z,j as b,F as A,k as T,w as $,m as l,v as r,n as F,p as h,D as y,t as x,q as k,s as d,l as R,x as B,y as E,z as L,_ as Z}from"./index-vYzfv9NW.js";import{r as j}from"./request-DzKJqaQU.js";import{A as I}from"./aos-CzWz6qMZ.js";const O={class:"register-page"},G={class:"animated-background"},H={class:"floating-particles"},J={class:"register-main"},K={class:"register-container"},Q={class:"register-card","data-aos":"fade-up","data-aos-duration":"800"},W={class:"form-row","data-aos":"fade-right","data-aos-delay":"400"},X={class:"form-group"},Y={class:"input-wrapper"},ss={class:"form-group"},es={class:"input-wrapper"},as={class:"form-group","data-aos":"fade-right","data-aos-delay":"500"},ts={class:"input-wrapper"},os={class:"form-group","data-aos":"fade-right","data-aos-delay":"600"},ls={class:"input-wrapper"},is={class:"form-group"},rs={class:"input-wrapper"},ns=["type"],ds={class:"password-strength"},ps={class:"strength-bar"},us={class:"strength-text"},ms={class:"form-group"},fs={class:"input-wrapper"},cs={class:"form-options"},vs={class:"checkbox-wrapper"},gs={class:"form-options"},ws={class:"checkbox-wrapper"},bs=["disabled"],hs={key:0,class:"loading-spinner"},ys={class:"login-link"},xs=M({__name:"RegisterView",setup(ks){const _=D(),a=S({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",agreeTerms:!1,newsletter:!1}),n=v(!1),i=v(!1),p=g(()=>{const o=a.password;if(!o)return{width:"0%",class:"",text:""};let s=0;return o.length>=8&&s++,/[a-z]/.test(o)&&s++,/[A-Z]/.test(o)&&s++,/[0-9]/.test(o)&&s++,/[^A-Za-z0-9]/.test(o)&&s++,s<=2?{width:"33%",class:"weak",text:"弱"}:s<=3?{width:"66%",class:"medium",text:"中等"}:{width:"100%",class:"strong",text:"强"}}),c=g(()=>a.firstName&&a.lastName&&a.email&&a.phone&&a.password&&a.confirmPassword&&a.password===a.confirmPassword&&a.agreeTerms),N=()=>{n.value=!n.value},V=async()=>{if(c.value){i.value=!0;try{const o=await j.post("/h/user",{username:a.email,password:a.password,phone:a.phone,firstName:a.firstName,lastName:a.lastName});E("注册成功！","您的账户已创建成功，现在可以登录了"),_.push("/login")}catch(o){console.error("注册失败:",o),L("注册失败","请检查输入信息是否正确，或稍后重试")}finally{i.value=!1}}},P=o=>{const s=Math.random()*4+2,u=Math.random()*100,t=Math.random()*20,q=Math.random()*10+10;return{width:`${s}px`,height:`${s}px`,left:`${u}%`,animationDelay:`${t}s`,animationDuration:`${q}s`}};return U(()=>{I.init({duration:800,easing:"ease-out-cubic",once:!0,offset:50})}),(o,s)=>{const u=C("router-link");return f(),m("div",O,[w(z),e("div",G,[e("div",H,[(f(),m(A,null,T(15,t=>e("div",{class:"particle",key:t,style:y(P())},null,4)),64))]),s[8]||(s[8]=b('<div class="gradient-orbs" data-v-4163e490><div class="orb orb-1" data-v-4163e490></div><div class="orb orb-2" data-v-4163e490></div><div class="orb orb-3" data-v-4163e490></div></div><div class="floating-elements" data-v-4163e490><div class="floating-element mushroom-1" data-v-4163e490>🍄</div><div class="floating-element mushroom-2" data-v-4163e490>🌿</div><div class="floating-element mushroom-3" data-v-4163e490>🍃</div></div>',2))]),e("main",J,[e("div",K,[e("div",Q,[s[27]||(s[27]=b('<div class="register-header" data-aos="fade-down" data-aos-delay="200" data-v-4163e490><div class="register-icon" data-v-4163e490><span class="mushroom-icon" data-v-4163e490>🍄</span></div><h1 class="register-title" data-v-4163e490>加入蘑菇庄园</h1><p class="register-subtitle" data-v-4163e490>创建账户，开启专属生态民宿体验</p></div>',1)),e("form",{class:"register-form",onSubmit:$(V,["prevent"]),"data-aos":"fade-up","data-aos-delay":"300"},[e("div",W,[e("div",X,[s[10]||(s[10]=e("label",{for:"firstName",class:"form-label"},"姓",-1)),e("div",Y,[s[9]||(s[9]=e("i",{class:"fas fa-user input-icon"},null,-1)),l(e("input",{type:"text",id:"firstName","onUpdate:modelValue":s[0]||(s[0]=t=>a.firstName=t),class:"form-input",placeholder:"请输入您的姓",required:""},null,512),[[r,a.firstName]])])]),e("div",ss,[s[12]||(s[12]=e("label",{for:"lastName",class:"form-label"},"名",-1)),e("div",es,[s[11]||(s[11]=e("i",{class:"fas fa-user input-icon"},null,-1)),l(e("input",{type:"text",id:"lastName","onUpdate:modelValue":s[1]||(s[1]=t=>a.lastName=t),class:"form-input",placeholder:"请输入您的名",required:""},null,512),[[r,a.lastName]])])])]),e("div",as,[s[14]||(s[14]=e("label",{for:"email",class:"form-label"},"邮箱地址",-1)),e("div",ts,[s[13]||(s[13]=e("i",{class:"fas fa-envelope input-icon"},null,-1)),l(e("input",{type:"email",id:"email","onUpdate:modelValue":s[2]||(s[2]=t=>a.email=t),class:"form-input",placeholder:"请输入您的邮箱地址",required:""},null,512),[[r,a.email]])])]),e("div",os,[s[16]||(s[16]=e("label",{for:"phone",class:"form-label"},"手机号码",-1)),e("div",ls,[s[15]||(s[15]=e("i",{class:"fas fa-phone input-icon"},null,-1)),l(e("input",{type:"tel",id:"phone","onUpdate:modelValue":s[3]||(s[3]=t=>a.phone=t),class:"form-input",placeholder:"请输入您的手机号码",required:""},null,512),[[r,a.phone]])])]),e("div",is,[s[18]||(s[18]=e("label",{for:"password",class:"form-label"},"密码",-1)),e("div",rs,[s[17]||(s[17]=e("i",{class:"fas fa-lock input-icon"},null,-1)),l(e("input",{type:n.value?"text":"password",id:"password","onUpdate:modelValue":s[4]||(s[4]=t=>a.password=t),class:"form-input",placeholder:"请设置您的密码",required:""},null,8,ns),[[F,a.password]]),e("button",{type:"button",class:"password-toggle",onClick:N},[e("i",{class:h(n.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),e("div",ds,[e("div",ps,[e("div",{class:h(["strength-fill",p.value.class]),style:y({width:p.value.width})},null,6)]),e("span",us,x(p.value.text),1)])]),e("div",ms,[s[20]||(s[20]=e("label",{for:"confirmPassword",class:"form-label"},"确认密码",-1)),e("div",fs,[s[19]||(s[19]=e("i",{class:"fas fa-lock input-icon"},null,-1)),l(e("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":s[5]||(s[5]=t=>a.confirmPassword=t),class:"form-input",placeholder:"请再次输入密码",required:""},null,512),[[r,a.confirmPassword]])])]),e("div",cs,[e("label",vs,[l(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=t=>a.agreeTerms=t),required:""},null,512),[[k,a.agreeTerms]]),s[21]||(s[21]=e("span",{class:"checkmark"},null,-1)),s[22]||(s[22]=e("span",{class:"checkbox-text"},[d(" 我同意 "),e("a",{href:"#",class:"terms-link"},"服务条款"),d(" 和 "),e("a",{href:"#",class:"terms-link"},"隐私政策")],-1))])]),e("div",gs,[e("label",ws,[l(e("input",{type:"checkbox","onUpdate:modelValue":s[7]||(s[7]=t=>a.newsletter=t)},null,512),[[k,a.newsletter]]),s[23]||(s[23]=e("span",{class:"checkmark"},null,-1)),s[24]||(s[24]=e("span",{class:"checkbox-text"},"订阅我们的优惠信息和活动通知",-1))])]),e("button",{type:"submit",class:"register-btn",disabled:i.value||!c.value},[i.value?(f(),m("span",hs)):R("",!0),d(" "+x(i.value?"注册中...":"创建账户"),1)],8,bs)],32),e("div",ys,[s[26]||(s[26]=e("span",null,"已有账户？",-1)),w(u,{to:"/login",class:"login-btn-link"},{default:B(()=>s[25]||(s[25]=[d("立即登录")])),_:1,__:[25]})])])])])])}}}),Ps=Z(xs,[["__scopeId","data-v-4163e490"]]);export{Ps as default};
